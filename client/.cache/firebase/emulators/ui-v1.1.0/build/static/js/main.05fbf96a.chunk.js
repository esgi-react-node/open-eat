(this["webpackJsonpfirebase-tools-ui"]=this["webpackJsonpfirebase-tools-ui"]||[]).push([[0],{101:function(e,t,a){"use strict";var n=a(183);a.o(n,"databaseReducer")&&a.d(t,"databaseReducer",(function(){return n.databaseReducer})),a.o(n,"databaseSaga")&&a.d(t,"databaseSaga",(function(){return n.databaseSaga})),a.o(n,"databasesSubscribe")&&a.d(t,"databasesSubscribe",(function(){return n.databasesSubscribe})),a.o(n,"databasesUnsubscribe")&&a.d(t,"databasesUnsubscribe",(function(){return n.databasesUnsubscribe}));var r=a(51);a.d(t,"databasesSubscribe",(function(){return r.d})),a.d(t,"databasesUnsubscribe",(function(){return r.e}));var c=a(184);a.d(t,"databaseReducer",(function(){return c.a}));var o=a(185);a.d(t,"databaseSaga",(function(){return o.a}))},108:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return c}));var n=a(14),r=Object(n.createAction)("@log/RECEIVED")(),c=Object(n.createAction)("@log/RESET")()},111:function(e,t,a){"use strict";var n=a(180);a.o(n,"configReducer")&&a.d(t,"configReducer",(function(){return n.configReducer})),a.o(n,"configSaga")&&a.d(t,"configSaga",(function(){return n.configSaga})),a.o(n,"subscribe")&&a.d(t,"subscribe",(function(){return n.subscribe}));var r=a(59);a.d(t,"subscribe",(function(){return r.d}));var c=a(181);a.d(t,"configReducer",(function(){return c.a}));var o=a(182);a.d(t,"configSaga",(function(){return o.a}))},112:function(e,t,a){"use strict";var n=a(186);a.o(n,"logReceived")&&a.d(t,"logReceived",(function(){return n.logReceived})),a.o(n,"logReducer")&&a.d(t,"logReducer",(function(){return n.logReducer})),a.o(n,"logReset")&&a.d(t,"logReset",(function(){return n.logReset}));var r=a(108);a.d(t,"logReceived",(function(){return r.a})),a.d(t,"logReset",(function(){return r.b}));var c=a(187);a.d(t,"logReducer",(function(){return c.a}))},122:function(e,t,a){},175:function(e,t,a){e.exports={"query-panel":"Collection_query-panel__1MziT",badge:"Collection_badge__B5KHa"}},177:function(e,t,a){e.exports={container:"StatusLabel_container__2Y6KW",icon:"StatusLabel_icon__34nuE"}},180:function(e,t){},181:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(24),r=a(14),c=a(23),o=a(59),i=Object(r.createReducer)({loading:!1}).handleAction(o.b,(function(e){return Object(n.a)(e,(function(e){e.loading=!0}))})).handleAction(o.c,(function(e,t){var a=t.payload;return Object(n.a)(e,(function(e){e.loading=!1,Object(c.f)(e,"result",{data:a})}))})).handleAction(o.a,(function(e,t){var a=t.payload;return Object(n.a)(e,(function(e){e.loading=!1,Object(c.f)(e,"result",{error:a})}))}))},182:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(5),r=a.n(n),c=a(7),o=a(29),i=a(14),l=a(59),u=r.a.mark(b),s=r.a.mark(p),d=r.a.mark(v);function m(){return f.apply(this,arguments)}function f(){return(f=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/config");case 2:if(200===(t=e.sent).status){e.next=5;break}throw new Error("HTTP ".concat(t.status,": ").concat(t.statusText));case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o.b)(m);case 3:return t=e.sent,e.next=6,Object(o.e)(Object(l.c)(t));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(o.e)(Object(l.a)({message:e.t0.message}));case 12:case"end":return e.stop()}}),u,null,[[0,8]])}function p(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(o.e)(Object(l.b)());case 3:return e.next=5,Object(o.c)(5e3);case 5:e.next=0;break;case 7:case"end":return e.stop()}}),s)}function v(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)([Object(o.h)(Object(i.getType)(l.b),b),Object(o.h)(Object(i.getType)(l.d),p)]);case 2:case"end":return e.stop()}}),d)}},183:function(e,t){},184:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(13),r=a(24),c=a(14),o=a(23),i=a(51),l=Object(c.createReducer)({databases:{loading:!1},databasesSubscribed:!1}).handleAction(i.b,(function(e,t){return Object(r.a)(e,(function(e){e.databases.loading=!0}))})).handleAction(i.c,(function(e,t){var a=t.payload,c=Object(n.a)(a);return c.sort((function(e,t){return e.name.localeCompare(t.name)})),Object(r.a)(e,(function(e){e.databases.loading=!1,Object(o.f)(e.databases,"result",{data:c})}))})).handleAction(i.a,(function(e,t){var a=t.payload;return Object(r.a)(e,(function(e){e.databases.loading=!1,Object(o.f)(e.databases,"result",{error:a})}))})).handleAction(i.d,(function(e){return Object(r.a)(e,(function(e){e.databasesSubscribed=!0}))})).handleAction(i.e,(function(e){return Object(r.a)(e,(function(e){e.databasesSubscribed=!1}))}))},185:function(e,t,a){"use strict";a.d(t,"a",(function(){return N}));var n=a(5),r=a.n(n),c=a(4),o=a(7),i=a(29),l=a(67),u=a(14),s=a(56),d=a(23),m=a(51),f=r.a.mark(O),b=r.a.mark(y),p=r.a.mark(C),v=r.a.mark(N);function E(e,t){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://".concat(t.hostAndPort,"/.inspect/databases.json?ns=").concat(a));case 2:if(200===(n=e.sent).status){e.next=5;break}throw new Error("HTTP ".concat(n.status,": ").concat(n.statusText));case 5:return e.abrupt("return",n.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=Object(l.a)(s.d,s.b,d.a);function O(){var e,t,a,n;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(i.f)(g);case 2:if(e=r.sent){r.next=5;break}throw new Error("Database emulator config is not ready yet.");case 5:if(!Object(d.d)(e)){r.next=7;break}throw new Error("Error fetching Database emulator config: "+e.error.message);case 7:if(t=Object(c.a)(e.data,2),a=t[0],n=t[1]){r.next=10;break}throw new Error("Database emulator is not started!");case 10:return r.abrupt("return",{projectId:a,config:n});case 11:case"end":return r.stop()}}),f)}function y(e){var t,a,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i.b)(O);case 3:return t=e.sent,a=t.projectId,n=t.config,e.next=8,Object(i.b)(E,n,a);case 8:return c=e.sent,e.next=11,Object(i.e)(Object(m.c)(c));case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),e.next=17,Object(i.e)(Object(m.a)({message:e.t0.message}));case 17:case"end":return e.stop()}}),b,null,[[0,13]])}var j=function(e){return e.database.databasesSubscribed};function C(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(i.g)(Object(u.getType)(m.d));case 3:return e.next=5,Object(i.f)(j);case 5:if(!e.sent){e.next=12;break}return e.next=8,Object(i.e)(Object(m.b)());case 8:return e.next=10,Object(i.c)(5e3);case 10:e.next=3;break;case 12:e.next=0;break;case 14:case"end":return e.stop()}}),p)}function N(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)([Object(i.h)(Object(u.getType)(m.b),y),C()]);case 2:case"end":return e.stop()}}),v)}},186:function(e,t){},187:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(13),r=a(26),c=a(14),o=a(108),i=Object(c.createReducer)({history:[]}).handleAction(o.a,(function(e,t){var a=t.payload;return Object(r.a)({},e,{history:[].concat(Object(n.a)(e.history),[a])})})).handleAction(o.b,(function(e){return Object(r.a)({},e,{history:[]})}))},191:function(e,t,a){},216:function(e,t,a){e.exports={container:"ImportDialog_container__3M_uy"}},23:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"e",(function(){return l})),a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return s})),a.d(t,"g",(function(){return d})),a.d(t,"f",(function(){return m}));var n=a(24),r=a(210),c=a.n(r);function o(e){return void 0!==e&&"data"in e}function i(e){return void 0!==e&&"error"in e}function l(e,t){if(void 0!==e)return"error"in e?e:{data:t(e.data)}}function u(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];for(var n=0,r=t;n<r.length;n++){var c=r[n];if(i(c))return c}for(var o=0,l=t;o<l.length;o++){var u=l[o];if(void 0===u)return}return{data:t.map((function(e){return e.data}))}}function s(e,t){return void 0===e?t.onNone():i(e)?t.onError(e.error):t.onData(e.data)}function d(e,t){return s(e.result,{onNone:function(){return t.onNone(e.loading)},onData:function(a){return t.onData(a,e.loading)},onError:function(a){return t.onError(a,e.loading)}})}function m(e,t,a){var r=Object(n.b)(e)?Object(n.c)(e)[t]:e[t];c()(r,a)||(e[t]=a)}},250:function(e,t,a){e.exports=a(371)},252:function(e,t,a){},261:function(e,t,a){},262:function(e,t,a){},265:function(e,t,a){},266:function(e,t,a){},275:function(e,t,a){},276:function(e,t,a){},278:function(e,t,a){},279:function(e,t,a){},282:function(e,t,a){},283:function(e,t,a){},284:function(e,t,a){},285:function(e,t,a){},293:function(e,t,a){},294:function(e,t,a){},336:function(e,t,a){},340:function(e,t,a){},345:function(e,t,a){},346:function(e,t,a){},347:function(e,t,a){},348:function(e,t,a){},349:function(e,t,a){},366:function(e,t,a){},367:function(e,t,a){},368:function(e,t,a){},369:function(e,t,a){},370:function(e,t,a){},371:function(e,t,a){"use strict";a.r(t);a(251),a(252);var n=a(223),r=a(32),c=a(0),o=a.n(c),i=a(8),l=a.n(i),u=a(46),s=a(30),d=a(33),m=(a(261),a(192)),f=a(412),b=a(34),p=a(4),v=(a(262),a(5)),E=a.n(v),h=a(66),g=a(29),O=a(67),y=a(111),j=a(101),C=a(112),N=E.a.mark(w);function w(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)([Object(g.d)(y.configSaga),Object(g.d)(j.databaseSaga)]);case 2:case"end":return e.stop()}}),N)}var k=Object(h.c)({config:y.configReducer,database:j.databaseReducer,log:C.logReducer});function S(e){return O.b(e)}var x=a(56),R=a(23),T=(a(265),a(18)),A=a(12),F=a(45),D=a(43),I=U(o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 192"},o.a.createElement("g",{fill:"none"},o.a.createElement("path",{d:"M0 0h192v192H0z"}),o.a.createElement("path",{d:"M96 104l-72 32v-32l72-32 72 32v28-6 10zm0-88l72 32v32L96 48 24 80V48zm27 116l36 16-63 28v-32z",fill:"currentColor",fillRule:"evenodd"})))),_=U(o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 192"},o.a.createElement("g",{fill:"none"},o.a.createElement("path",{d:"M0 0h192v192H0z"}),o.a.createElement("path",{d:"M24 120h144v32.016c0 8.832-7.144 15.984-15.96 15.984H39.96C31.144 168 24 160.816 24 152.016zm0-80.064C24 31.136 31.144 24 39.96 24h112.08c8.816 0 15.96 7.2 15.96 15.936v56.128c0 8.8-7.144 15.936-15.96 15.936H39.96C31.144 112 24 104.8 24 96.064zM40 40h112v24H40zm0 44.04C40 81.8 41.712 80 44.04 80h7.92C54.2 80 56 81.712 56 84.04v7.92C56 94.2 54.288 96 51.96 96h-7.92C41.8 96 40 94.288 40 91.96zm0 56c0-2.24 1.712-4.04 4.04-4.04h7.92c2.24 0 4.04 1.712 4.04 4.04v7.92c0 2.24-1.712 4.04-4.04 4.04h-7.92c-2.24 0-4.04-1.712-4.04-4.04z",fill:"currentColor",fillRule:"evenodd"})))),M=U(o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 192"},o.a.createElement("g",{fill:"none"},o.a.createElement("path",{d:"M0 0h192v192H0z"}),o.a.createElement("path",{d:"M160.056 134.048v-76.08l-26.944-26.944 16.952-16.96L184 48v86.16l-.056.032v9.832l-33.904 33.912L133.112 161zm-128.112-.024l26.944 26.952-16.952 16.96L8 144V57.84l.056-.032v-9.832L41.96 14.064 58.888 31 31.944 57.952v76.08zm28.064-26c-6.647 0-12.036-5.389-12.036-12.036 0-6.647 5.389-12.036 12.036-12.036 6.645 0 12.032 5.387 12.032 12.032 0 6.645-5.387 12.032-12.032 12.032zm35.984 0c-6.647 0-12.036-5.389-12.036-12.036 0-6.647 5.389-12.036 12.036-12.036 6.645 0 12.032 5.387 12.032 12.032 0 6.645-5.387 12.032-12.032 12.032zm35.984 0c-6.647 0-12.036-5.389-12.036-12.036 0-6.647 5.389-12.036 12.036-12.036 6.645 0 12.032 5.387 12.032 12.032 0 6.645-5.387 12.032-12.032 12.032z",fill:"currentColor",fillRule:"evenodd"})))),L=U(o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 192"},o.a.createElement("path",{d:"M96 16c-44.16 0-80 35.84-80 80s35.84 80 80 80 80-35.84 80-80-35.84-80-80-80zm-8 143.44c-31.6-3.92-56-30.8-56-63.44 0-4.96.64-9.68 1.68-14.32L72 120v8c0 8.8 7.2 16 16 16zm55.2-20.32c-2.08-6.48-8-11.12-15.2-11.12h-8v-24c0-4.4-3.6-8-8-8H64V80h16c4.4 0 8-3.6 8-8V56h16c8.8 0 16-7.2 16-16v-3.28c23.44 9.52 40 32.48 40 59.28 0 16.64-6.4 31.76-16.8 43.12z",fillRule:"evenodd",fill:"currentColor"}))),P=U(o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},o.a.createElement("g",null,o.a.createElement("path",{d:"M19.83,9.7a1.72,1.72,0,1,0-2.36-.63A1.73,1.73,0,0,0,19.83,9.7Z",fill:"currentColor"}),o.a.createElement("path",{d:"M4.17,9.7a1.72,1.72,0,1,0-.63-2.35A1.72,1.72,0,0,0,4.17,9.7Z",fill:"currentColor"}),o.a.createElement("circle",{cx:"12",cy:"20.28",r:"1.72",fill:"currentColor"}),o.a.createElement("path",{d:"M20.06,14.36a2.19,2.19,0,0,0-2.46.19l-2.9-1.68a2.67,2.67,0,0,0,.08-.64,2.77,2.77,0,0,0-2-2.65V6.22a2.19,2.19,0,1,0-1.6,0V9.58a2.77,2.77,0,0,0-2,2.65,2.67,2.67,0,0,0,.08.64L6.4,14.55a2.2,2.2,0,1,0,.79,1.38l2.9-1.68a2.75,2.75,0,0,0,3.82,0l2.9,1.68a2.18,2.18,0,1,0,3.25-1.57Z",fill:"currentColor"})))),B=U(o.a.createElement("svg",{viewBox:"0 0 38 38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 37C28.9411 37 37 28.9411 37 19C37 9.05887 28.9411 1 19 1C9.05887 1 1 9.05887 1 19C1 28.9411 9.05887 37 19 37Z",fill:"white",stroke:"black",strokeOpacity:"0.12"}),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 22H28V26.002C28.0005 26.5315 27.7906 27.0396 27.4164 27.4143C27.0423 27.7891 26.5345 27.9997 26.005 28H11.995C10.8929 27.9978 10.0005 27.1041 10 26.002V22ZM10 11.992C10 10.892 10.893 10 11.995 10H26.005C27.107 10 28 10.9 28 11.992V19.008C28 20.108 27.107 21 26.005 21H11.995C10.893 21 10 20.1 10 19.008V11.992ZM12 12H26V15H12V12ZM12 17.505C12 17.225 12.214 17 12.505 17H13.495C13.775 17 14 17.214 14 17.505V18.495C14 18.775 13.786 19 13.495 19H12.505C12.3704 19.0022 12.2407 18.9497 12.1455 18.8545C12.0503 18.7593 11.9978 18.6296 12 18.495V17.505ZM12 24.505C12 24.225 12.214 24 12.505 24H13.495C13.775 24 14 24.214 14 24.505V25.495C14 25.775 13.786 26 13.495 26H12.505C12.3704 26.0022 12.2407 25.9497 12.1455 25.8545C12.0503 25.7593 11.9978 25.6296 12 25.495V24.505Z",fill:"currentColor"}))),V=U(o.a.createElement("svg",{viewBox:"0 0 10 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M2.99998 13C2.99998 13.3667 3.29998 13.6667 3.66665 13.6667H6.33331C6.69998 13.6667 6.99998 13.3667 6.99998 13V12.3334H2.99998V13ZM4.99998 0.333374C2.42665 0.333374 0.333313 2.42671 0.333313 5.00004C0.333313 6.58671 1.12665 7.98004 2.33331 8.82671V10.3334C2.33331 10.7 2.63331 11 2.99998 11H6.99998C7.36665 11 7.66665 10.7 7.66665 10.3334V8.82671C8.87331 7.98004 9.66665 6.58671 9.66665 5.00004C9.66665 2.42671 7.57331 0.333374 4.99998 0.333374ZM6.89998 7.73337L6.33331 8.13337V9.66671H3.66665V8.13337L3.09998 7.73337C2.65831 7.42718 2.29727 7.01867 2.04768 6.54271C1.79809 6.06675 1.66736 5.53747 1.66665 5.00004C1.66665 3.16004 3.15998 1.66671 4.99998 1.66671C6.83998 1.66671 8.33331 3.16004 8.33331 5.00004C8.33331 6.08671 7.79998 7.10671 6.89998 7.73337Z",fill:"currentColor"})));function U(e){return function(t){var a=t.size,n=void 0===a?"small":a,r=Object(F.a)(t,["size"]);return o.a.createElement(D.a,Object.assign({icon:{strategy:"component",size:n,icon:e}},r))}}var z=function(e){var t=e.productName;return o.a.createElement(o.a.Fragment,null,o.a.createElement(b.b,{desktop:2,tablet:0,phone:0}),o.a.createElement(b.b,{span:8,align:"middle"},o.a.createElement(T.a,{className:"EmulatorDisabled"},o.a.createElement("div",{className:"EmulatorDisabled-graphics"},o.a.createElement("img",{src:"/assets/img/database.png",alt:""})),o.a.createElement("div",{className:"EmulatorDisabled-description"},o.a.createElement(A.a,{use:"headline6",tag:"h3"},"The ",t," Emulator is currently not running."),o.a.createElement(A.a,{use:"body1",tag:"p"},"If you are not using ",t," in your testing, everything is fine. If you want to use ",t," in your testing, then the best way to set it up and start it is to run the following command initialize the ",t," Emulator:"," ",o.a.createElement("code",null,"firebase init emulators"),". Followed by:"," ",o.a.createElement("code",null,"firebase emulators:start"),"."),o.a.createElement(A.a,{use:"body1",tag:"p"},o.a.createElement("a",{href:"https://firebase.google.com/docs/emulator-suite/install_and_configure#configure_emulator_suite"},o.a.createElement(V,{size:"xsmall"})," Learn more"))))))},q=(a(266),a(211)),H=a(19),J=a.n(H),W=function(e){var t=e.message,a=e.span,n=e.cover,r=e.scrim,c=Object(F.a)(e,["message","span","cover","scrim"]),i=o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,{size:"xlarge"}),t&&o.a.createElement(A.a,{use:"body2",tag:"p"},t));return void 0===a?o.a.createElement("div",Object.assign({className:J()("Spinner",{cover:n,scrim:r})},c),i):o.a.createElement(b.b,Object.assign({span:a,align:"middle",className:"Spinner"},c),i)},G=a(20),K=a(414),Q=a(146),Z=a(7),Y=(a(267),a(272),a(44)),$=a(172);function X(e,t){var a="http://".concat(e.hostAndPort,"/?ns=").concat(t),n=$.initializeApp({databaseURL:a},"Database Component: ".concat(a," ").concat(Math.random()));ee(n);var r=n.database();return window.database||console.log("\ud83d\udd25 Realtime Database is available at window.database.\n\n    Try:\n    database.ref().set({hello: 'world!'});\n    database.ref().once('value').then( snap => console.log(snap.val()) );"),window.database=r,[r,{cleanup:function(){return n.delete()}}]}function ee(e){var t=new Y.Component("auth-internal",(function(){return{getToken:function(){var e=Object(Z.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{accessToken:"owner"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getUid:function(){return null},addAuthTokenListener:function(e){e("owner")},removeAuthTokenListener:function(){}}}),"PRIVATE");e._addOrOverwriteComponent(t)}a(275);var te=a(63),ae=a(98),ne=a(213),re=(a(276),[]),ce=function(e){var t=e.base,a=e.path,n=e.onEdit,r=e.children,c=a.startsWith("/")?a.substr(1):a,i=c?c.split("/"):re,l=i.reduce((function(e,a){var n=e.length?e[e.length-1]:t;return e.push("".concat(n,"/").concat(a)),e}),[]);return o.a.createElement("ul",{role:"navigation",className:"BreadCrumbs"},o.a.createElement("li",{className:"BreadCrumbs-crumb"},o.a.createElement(G.a,{icon:"home",tag:s.b,to:t})),i.map((function(e,t){return o.a.createElement("li",{key:l[t],className:J()("BreadCrumbs-crumb","BreadCrumbs-link",{"BreadCrumbs-active":t===i.length-1})},o.a.createElement(s.b,{to:l[t]},e))})),o.a.createElement("li",{className:"BreadCrumbs-edit","aria-label":"Edit URL",onClick:function(){return n&&n()}},o.a.createElement(G.a,{icon:"edit"})),o.a.createElement("li",null,r))},oe=(a(278),function(e){var t=e.className,a=e.children;return o.a.createElement(r.b,{options:{surface:"#F5F5F5"},className:J()("CardActionBar",t)},o.a.createElement(r.a,{use:["surface"],className:"CardActionBar-container",tag:"div"},a))}),ie=function(e){var t=e.children;return o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{style:{flex:"1 auto"}}),o.a.createElement("div",{className:"CardActionBar-actions"},t))},le=function(e){var t=e.onNavigate,a=e.children,n=e.inputPrefix,r=e.path,i=Object(F.a)(e,["onNavigate","children","inputPrefix","path"]),l=Object(c.useState)(!1),u=Object(p.a)(l,2),s=u[0],d=u[1],m=Object(c.useState)(r),f=Object(p.a)(m,2),b=f[0],v=f[1];Object(c.useEffect)((function(){return v(r)}),[r]);var E=function(){d(!1),v(r)},h=Object(c.useRef)(null);return Object(ne.a)(["Escape"],E,{eventTypes:["keypress","keydown","keyup"],target:h,when:!0}),Object(c.useLayoutEffect)((function(){h.current&&h.current.select()}),[s,h]),o.a.createElement("div",{className:"InteractiveBreadCrumbBar"},s?o.a.createElement(te.a,{z:1,wrap:!0},o.a.createElement("form",{className:"InteractiveBreadCrumbBar-form",onSubmit:function(){return function(){var e=b.startsWith("/")?b.substr(1):b;t(e),d(!1)}()}},n&&o.a.createElement(A.a,{use:"body2",className:"InteractiveBreadCrumbBar-prefix",theme:"secondary"},n),o.a.createElement(ae.a,{"aria-label":"Document path",fullwidth:!0,className:"value",type:"text",value:b,onChange:function(e){return v(e.currentTarget.value)},inputRef:h}),o.a.createElement(G.a,{label:"Cancel",type:"button",icon:"close",onClick:E,theme:"secondary"}))):o.a.createElement(oe,{className:"top"},o.a.createElement(ce,Object.assign({path:r},i,{onEdit:function(){d(!0)}}),a)))},ue=a(54),se=a(64),de=a(100),me=a(61),fe=a(91),be=a(231);var pe=function(e){Object(fe.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=Object(me.a)(e);if(t()){var r=Object(me.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(de.a)(this,a)}}(a);function a(e,n,r){var c;return Object(ue.a)(this,a),(c=t.call(this,e)).response=n,c.json=r,c}return a}(Object(be.a)(Error)),ve=function(){function e(){Object(ue.a)(this,e)}return Object(se.a)(e,[{key:"getToken",value:function(){var e=Object(Z.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{accessToken:"owner"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"jsonRequest",value:function(){var e=Object(Z.a)(E.a.mark((function e(t,a){var n,r,c,o,i,l=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>2&&void 0!==l[2]?l[2]:"GET",e.next=3,this.getToken();case 3:return r=e.sent,c=r.accessToken,e.next=7,fetch(t,{method:n,body:JSON.stringify(a),headers:{Authorization:"Bearer "+c,"Content-Type":"application/json"}});case 7:return o=e.sent,e.next=10,o.json();case 10:if(i=e.sent,!(o.status>=400&&o.status<600)){e.next=19;break}return e.t0=pe,e.next=15,o.text();case 15:throw e.t1=e.sent,e.t2=o,e.t3=i,new e.t0(e.t1,e.t2,e.t3);case 19:return e.abrupt("return",{res:o,json:i});case 20:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"postFile",value:function(){var e=Object(Z.a)(E.a.mark((function e(t,a){var n,r,c,o,i,l,u=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>2&&void 0!==u[2]?u[2]:"POST",r=Ee(a),e.next=4,this.getToken();case 4:return c=e.sent,o=c.accessToken,r.append("auth",o),e.next=9,fetch(t,{method:n,body:r});case 9:return i=e.sent,e.next=12,i.text();case 12:if(l=e.sent,!(i.status>=400&&i.status<600)){e.next=15;break}throw new pe(l,i);case 15:return e.abrupt("return",{res:i,text:l});case 16:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}();function Ee(e){var t=new FormData;return t.append("upload",e),t}var he=function(e){Object(fe.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=Object(me.a)(e);if(t()){var r=Object(me.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(de.a)(this,a)}}(a);function a(e,n){var r;Object(ue.a)(this,a),(r=t.call(this)).namespace=n,r.baseUrl=void 0,r.cleanup=void 0,r.database=void 0;var c=X(e,r.namespace),o=Object(p.a)(c,2),i=o[0],l=o[1].cleanup;return r.database=i,r.cleanup=l,r.baseUrl="http://".concat(e.hostAndPort),r}return Object(se.a)(a,[{key:"delete",value:function(){return this.cleanup()}},{key:"importFile",value:function(){var e=Object(Z.a)(E.a.mark((function e(t,a){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URLSearchParams({ns:this.namespace}),r=ge(t)+"?".concat(n.toString()),e.next=4,this.postFile("".concat(this.baseUrl,"/").concat(r),a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),a}(ve);function ge(e){var t=new URL(e.toString()).pathname.replace(/^\//,"").replace(/\/$/,"");return""!==t&&(t+="/"),t+=".upload"}var Oe,ye,je=a(227),Ce=a(10),Ne=(a(279),{background:"#f3e5f5",primary:"#681DA8",primaryRgb:"104, 29, 168",textIconOnBackground:"#681DA8",textPrimaryOnBackground:"#681DA8",textSecondaryOnBackground:"rgba(".concat("#681DA8",", 0.7)")}),we={background:"#e0f2f1",primary:"#00796b",primaryRgb:"0, 121, 107",textIconOnBackground:"#00796b",textPrimaryOnBackground:"#00695c",textSecondaryOnBackground:"rgba(".concat("#00695c",", 0.7)")},ke={background:"#e5eaf0",primary:"#476282",primaryRgb:"71, 98, 130",textIconOnBackground:"#476282",textPrimaryOnBackground:"#1b3a57",textSecondaryOnBackground:"rgba(".concat("#1b3a57",", 0.7)")},Se={background:"#fff3e0",primary:"#ff8f00",primaryRgb:"255, 143, 0",onPrimary:"white",textIconOnBackground:"#ff8f00",textPrimaryOnBackground:"#bf360c",textSecondaryOnBackground:"rgba(".concat("#bf360c",", 0.7)")},xe={background:"#fbe9e7",primary:"#d32f2f",primaryRgb:"211, 47, 47",textIconOnBackground:"#d32f2f",textPrimaryOnBackground:"#c62828",textSecondaryOnBackground:"rgba(".concat("#c62828",", 0.7)")};!function(e){e.CAUTION="caution",e.NOTE="note",e.SUCCESS="success",e.TIP="tip",e.WARNING="warning"}(ye||(ye={}));var Re,Te,Ae=(Oe={},Object(Ce.a)(Oe,ye.CAUTION,Se),Object(Ce.a)(Oe,ye.NOTE,ke),Object(Ce.a)(Oe,ye.SUCCESS,we),Object(Ce.a)(Oe,ye.TIP,Ne),Object(Ce.a)(Oe,ye.WARNING,xe),Oe),Fe=function(e){var t=e.use,a=e.wrap,n=e.children;return o.a.createElement(r.b,{options:Ae[t],wrap:a},n)},De=(Re={},Object(Ce.a)(Re,ye.CAUTION,"error"),Object(Ce.a)(Re,ye.NOTE,"info"),Object(Ce.a)(Re,ye.SUCCESS,"check_circle"),Object(Ce.a)(Re,ye.TIP,"star"),Object(Ce.a)(Re,ye.WARNING,"warning"),Re),Ie=function(e){var t=e.children,a=e.actions,n=e.icon,c=e.aside,i=e.type,l=void 0===i?ye.NOTE:i,u=n||De[l],s=c?" Callout-aside":"",d="Callout Callout-".concat(l).concat(s);return o.a.createElement(Fe,{use:l,wrap:!0},o.a.createElement(r.a,{className:d,use:c?[]:["onPrimary","primaryBg"],tag:"div"},o.a.createElement("div",{className:"Callout-body"},o.a.createElement("div",{className:"Callout-message"},u&&o.a.createElement(D.a,{icon:u,"aria-hidden":"true",className:"Callout-icon"}),o.a.createElement(A.a,{use:"subtitle2"},t))),o.a.createElement(r.b,{wrap:!0,options:c?{}:{primary:"#fff"}},o.a.createElement("div",{className:"Callout-actions"},a))))},_e=(a(191),a(214)),Me=a(224),Le=function(e){var t=e.fieldClassName,a=e.label,n=(e.fullwidth,e.outlined,e.tip),r=e.error,i=Object(F.a)(e,["fieldClassName","label","fullwidth","outlined","tip","error"]),l=Object(c.useState)(Object(_e.a)()),u=Object(p.a)(l,1)[0];return o.a.createElement("div",{className:J()("Field",t)},o.a.createElement(A.a,{className:"Field-label",use:"body2",theme:"secondary",tag:"label",htmlFor:u},a),o.a.createElement(ae.a,Object.assign({outlined:!0,invalid:!!r},i,{tag:"div",id:u})),o.a.createElement("div",{className:"Field-subtext"},r?o.a.createElement(A.a,{className:"Field-tip",use:"body2",theme:"error"},r):n&&o.a.createElement(A.a,{className:"Field-tip",use:"body2",theme:"secondary"},n)))},Pe=function(e){var t=e.fieldClassName,a=e.label,n=(e.outlined,e.tip),r=(e.theme,e.error),i=Object(F.a)(e,["fieldClassName","label","outlined","tip","theme","error"]),l=Object(c.useState)(Object(_e.a)()),u=Object(p.a)(l,1)[0];return o.a.createElement("div",{className:J()("Field",t)},o.a.createElement(A.a,{className:"Field-label",use:"body2",theme:"secondary",tag:"label",htmlFor:u},a),o.a.createElement(Me.a,Object.assign({outlined:!0},i,{id:u})),o.a.createElement("div",{className:"Field-subtext"},r?o.a.createElement(A.a,{className:"Field-tip",use:"body2",theme:"error"},r):n&&o.a.createElement(A.a,{className:"Field-tip",use:"body2",theme:"secondary"},n)))},Be=(a(282),a(31)),Ve=function(e){var t=e.label,a=e.tip,n=e.error,r=e.onFiles,i=e.value,l=e.accept,u=Object(c.useState)(Object(_e.a)()),s=Object(p.a)(u,1)[0],d=Object(Q.a)({onDrop:r,accept:l}),m=d.isDragActive,f=d.getRootProps,b=d.getInputProps,v=d.isDragReject;return o.a.createElement("div",{className:"Field"},o.a.createElement(A.a,{className:"Field-label",use:"body2",theme:"secondary",tag:"label",htmlFor:s},t),o.a.createElement("div",Object.assign({className:"Field-filename"},f(),{"data-testid":"dropzone"}),o.a.createElement("input",b({id:s})),o.a.createElement(A.a,{use:"body2",theme:"secondary"},m?v?"File type is not accepted":"Drop file(s) here":i),o.a.createElement(Be.a,{type:"button"},"Browse")),o.a.createElement("div",{className:"Field-subtext"},n?o.a.createElement(A.a,{className:"Field-tip",use:"body2",theme:"error"},n):a&&o.a.createElement(A.a,{className:"Field-tip",use:"body2",theme:"secondary"},a)))},Ue=a(216),ze=a.n(Ue),qe=function(e){var t=e.api,a=e.reference,n=e.onComplete,r=e.droppedFile,o=Object(c.useState)(r),i=Object(p.a)(o,2),l=i[0],u=i[1],s=Object(c.useState)(!1),d=Object(p.a)(s,2),m=d[0],f=d[1],b=Object(c.useState)(),v=Object(p.a)(b,2),h=v[0],g=v[1],O=function(){var e=Object(Z.a)(E.a.mark((function e(r){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),!l){e.next=13;break}return e.prev=2,f(!0),e.next=6,t.importFile(a,l);case 6:n(a,l),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),g(e.t0.message);case 12:f(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),y=new URL(a.toString()).pathname;return c.createElement(je.a,{renderToPortal:!0,open:!0,onClose:function(){return n()}},c.createElement("form",{onSubmit:O,className:ze.a.container},c.createElement(je.e,null,"Import JSON"),c.createElement(je.d,{onSubmit:O},c.createElement(Ie,{aside:!0,type:"warning"},"All data at this location will be overwritten"),c.createElement(Ie,{aside:!0,type:"caution"},"If the Functions emulator is running, database functions will be executed."),c.createElement(Le,{disabled:!0,name:"location",label:"Data location",value:y,type:"text"}),c.createElement(Ve,{name:"file",accept:"application/json",label:"Data (JSON)",required:!0,value:(null===l||void 0===l?void 0:l.name)||"Drop a file, or click to select",onFiles:function(e){return u(e[0])},error:h})),c.createElement(je.b,null,c.createElement(je.c,{action:"close",type:"button",theme:"secondary"},"Cancel"),c.createElement(je.c,{type:"submit",unelevated:!0},"Import"))),m&&c.createElement(W,{cover:!0,scrim:!0,message:"Importing..."}))},He=a(26),Je=a(225),We=a(403),Ge=a(230),Ke=a(99),Qe=a(25),Ze=a(402),Ye=a(421),$e=a(404),Xe=a(405),et=a(406),tt=a(141),at={limit:50};function nt(e){try{return JSON.parse(e)}catch(t){return e}}function rt(e){return e.database.app.options.databaseURL}!function(e){e.Table="table",e.TreeView="tree"}(Te||(Te={}));var ct=[],ot={Authorization:"Bearer owner"};function it(e,t){var a=new Je.a(1);a.next({limit:50});var n=a.pipe(Object(Ze.a)((function(a){return t.pipe(Object(Ye.a)((function(t){return t?function(e,t){var a;return function(e){return Object(Ke.a)(e.once("value"))}(e).pipe(Object(Ze.a)((function(n){return n.hasChildren()?lt(a=ut(e,t)):lt(e)})),Object(tt.a)((function(e){return{value:e.hasChildren()?void 0:e.val(),children:e.hasChildren()?Object.keys(e.val()):ct,isRealtime:!0,isLoading:!1,query:a}})))}(e,a):function(e,t){return function(e,t){var a=function(e){var t=e.key,a=e.operator,n=e.value,r=e.limit,c={orderBy:t,limitToFirst:"".concat(r||50)};if(t&&a&&n)switch(a){case"==":c.equalTo=n;break;case"<=":c.endAt=n;break;case">=":c.startAt=n}return c}(t),n=st(e,Object(He.a)({},a,{shallow:"true"}));return Object(We.a)((function(){return fetch(n,{headers:ot})})).pipe(Object(tt.a)((function(e){return e.json()})),Object(tt.a)((function(e){return Object.keys(e)})))}(e,t).pipe(Object(tt.a)((function(e){return{children:e,isLoading:!1,isRealtime:!1}})))}(e,a)})))})));return{query:a,viewModel$:n}}function lt(e){return new Qe.a((function(t){var a=e.on("value",(function(e){return t.next(e)}));return function(){return e.off("value",a)}}))}function ut(e,t){var a=t.key,n=t.operator,r=t.value,c=t.limit;if(null!=a&&null!=n&&null!=r){var o=e.orderByChild(a).limitToFirst(c||50);switch(n){case"==":return o.equalTo(r);case"<=":return o.endAt(r);case">=":return o.startAt(r)}}return e.limitToFirst(c||50)}function st(e,t){var a=rt(e);if(a.indexOf("?ns=")>=0){var n=a.split("?ns=")[1];t=Object(He.a)({},t,{ns:n})}var r=Object.entries(t).filter((function(e){var t=Object(p.a)(e,2);t[0];return!!t[1]})).map((function(e){var t=Object(p.a)(e,2),a=t[0],n=t[1];return"".concat(a,"=").concat(encodeURIComponent(n))})).join("&");return"".concat(e.toString(),".json?").concat(r)}a(283);var dt,mt=a(79),ft=(a(284),a(411)),bt=(a(285),a(22)),pt=Object(c.createContext)(null),vt=pt.Provider,Et=function(){var e=Object(c.useContext)(pt);if(!e)throw new Error("You are missing a <ApiProvider>.");return e};function ht(e){return"=="===e.operator||">"===e.operator||">="===e.operator||"<="===e.operator||"<"===e.operator||"array-contains"===e.operator}function gt(e){return"in"===e.operator||"array-contains-any"===e.operator}function Ot(e){return!e.operator||">"===e.operator||">="===e.operator||"<="===e.operator||"<"===e.operator}!function(e){e.ARRAY="array",e.BLOB="blob",e.BOOLEAN="boolean",e.GEOPOINT="geopoint",e.JSON="json",e.MAP="map",e.NULL="null",e.NUMBER="number",e.REFERENCE="reference",e.STRING="string",e.TIMESTAMP="timestamp"}(dt||(dt={}));var yt=a(38),jt=a(24),Ct=a(115),Nt=a.n(Ct),wt=/^-?([\d]*\.?\d+|Infinity|NaN)$/;function kt(e){return e.slice(0,e.length-1)}function St(e){if(!e.length)throw new Error("".concat(e," is empty and has no _last_ field name"));return e[e.length-1]}function xt(e){return null===e?dt.NULL:e instanceof yt.firestore.Timestamp?dt.TIMESTAMP:e instanceof Array?dt.ARRAY:e instanceof yt.firestore.DocumentReference?dt.REFERENCE:e instanceof yt.firestore.GeoPoint?dt.GEOPOINT:e instanceof yt.firestore.Blob?dt.BLOB:"object"===typeof e?dt.MAP:typeof e}function Rt(e){return"boolean"===typeof e}function Tt(e){return"number"===typeof e}function At(e){return xt(e)===dt.MAP}function Ft(e){return xt(e)===dt.ARRAY}function Dt(e){return!At(e)&&!Ft(e)}var It=Object(jt.a)((function(e,t,a){var n=Nt()(e,kt(t))||e;if(At(n))n[St(t)]=a;else{if(!Ft(n))return a;n[Number(St(t))]=a}})),_t=Object(jt.a)((function(e,t){var a=Nt()(e,kt(t))||e;At(a)?delete a[St(t)]:Ft(a)&&a.splice(Number(St(t)),1)})),Mt=a(14),Lt=Object(Mt.createAction)("@document/addToMap")(),Pt=Object(Mt.createAction)("@document/addToArray")(),Bt=Object(Mt.createAction)("@document/removeFromMap")(),Vt=Object(Mt.createAction)("@document/removeFromArray")(),Ut=Object(Mt.createAction)("@document/updateName")(),zt=Object(Mt.createAction)("@document/updateType")(),qt=Object(Mt.createAction)("@document/updateValue")(),Ht=function(e){var t=e.value,a=e.onChange;return o.a.createElement(Pe,{label:"Value",value:t.toString(),options:["true","false"],onChange:function(e){a("true"===e.currentTarget.value)}})},Jt=function(e){var t,a,n=e.name,r=e.value,i=e.onChange,l=Object(c.useState)(String(r.latitude)),u=Object(p.a)(l,2),s=u[0],d=u[1],m=Object(c.useState)(String(r.longitude)),f=Object(p.a)(m,2),b=f[0],v=f[1],E=Object(bt.e)(),h=E.errors,g=E.formState.touched,O=E.register,y=E.unregister,j=E.setValue,C="".concat(n,"-lat"),N="".concat(n,"-long");return Object(c.useEffect)((function(){return O(C,{required:"Required",min:{value:-90,message:"Must be >= -90"},max:{value:90,message:"Must be <= -90"}}),O(N,{required:"Required",min:{value:-180,message:"Must be >= -180"},max:{value:180,message:"Must be <= -180"}}),function(){return y([C,N])}}),[O,y,C,N]),Object(c.useEffect)((function(){var e=Number(s),t=Number(b);if(r.latitude!==e||r.longitude!==t)try{var a=new yt.firestore.GeoPoint(e,t);i(a)}catch(n){}}),[r,s,b,i]),o.a.createElement("div",{className:"FieldEditor-geo-point"},o.a.createElement(Le,{label:"Latitude",type:"number",step:"any",defaultValue:s,onChange:function(e){j(C,e.currentTarget.value,!0),d(e.currentTarget.value)},error:g[C]&&(null===(t=h[C])||void 0===t?void 0:t.message)}),o.a.createElement(Le,{label:"Longitude",type:"number",step:"any",defaultValue:b,onChange:function(e){j(N,e.currentTarget.value,!0),v(e.currentTarget.value)},error:g[N]&&(null===(a=h[N])||void 0===a?void 0:a.message)}))},Wt=function(e){var t,a=e.value,n=e.onChange,r=e.name,i=Object(c.useState)(JSON.stringify(a)),l=Object(p.a)(i,1)[0],u=Object(bt.e)(),s=u.errors,d=u.formState.touched,m=u.register,f=u.unregister,b=u.setValue,v=u.triggerValidation;function h(){return(h=Object(Z.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(r);case 2:if(!e.sent){e.next=4;break}n(JSON.parse(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){return m(r,{validate:function(e){try{return JSON.parse(e),!0}catch(t){return"Must be valid JSON"}}}),function(){return f(r)}}),[m,f,r]),o.a.createElement(Le,{label:"JSON",defaultValue:l,onChange:function(e){b(r,e.currentTarget.value),function(e){h.apply(this,arguments)}(e.currentTarget.value)},error:d[r]&&(null===(t=s[r])||void 0===t?void 0:t.message)})},Gt=function(e){var t,a=e.value,n=e.onChange,r=e.name,i=Object(bt.e)(),l=i.errors,u=i.formState.touched,s=i.register,d=i.unregister,m=i.setValue,f=i.triggerValidation;function b(){return(b=Object(Z.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(r);case 2:if(!e.sent){e.next=4;break}n(parseFloat(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){return s(r,{required:"Required",pattern:{value:wt,message:"Must be a number"}}),function(){return d(r)}}),[s,d,r]),o.a.createElement(Le,{label:"Value",defaultValue:a,onChange:function(e){m(r,e.currentTarget.value),function(e){b.apply(this,arguments)}(e.currentTarget.value)},error:u[r]&&(null===(t=l[r])||void 0===t?void 0:t.message)})},Kt=function e(t){Object(ue.a)(this,e),this.path=t};function Qt(e){return!Zt(e)&&!function(e){return Dt(e)||e instanceof Kt}(e)}function Zt(e){return e instanceof Array}function Yt(e){return"mapChildren"in e}function $t(e){return"arrayChildren"in e}function Xt(e){return"isJson"in e}function ea(e){if(void 0===e.uuid)throw new Error("Store has no root")}function ta(e){if(!Yt(e))throw new Error("Field is not a map")}function aa(e){if(!$t(e))throw new Error("Field is not an array")}var na=function(e){var t,a=e.value,n=e.onChange,r=e.name,i=Object(c.useState)(a.path),l=Object(p.a)(i,1)[0],u=Et(),s=Object(bt.e)(),d=s.errors,m=s.formState.touched,f=s.register,b=s.unregister,v=s.setValue,h=s.triggerValidation;function g(){return(g=Object(Z.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(r);case 2:if(!e.sent){e.next=4;break}n(new Kt(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){return f(r,{validate:function(e){try{return u.database.doc(e),!0}catch(t){return"Must point to a document"}}}),function(){return b(r)}}),[f,b,r,u]),o.a.createElement(Le,{label:"Document path",defaultValue:l,onChange:function(e){v(r,e.currentTarget.value),function(e){g.apply(this,arguments)}(e.currentTarget.value)},error:m[r]&&(null===(t=d[r])||void 0===t?void 0:t.message)})},ra=a(13),ca=0;function oa(){return ca++}function ia(e){return Qt(e)?function(e){var t=oa(),a=Object.entries(e).reduce((function(e,t){var a=e.mapChildren,n=e.fields,r=Object(p.a)(t,2),c=r[0],o=ia(r[1]);return ea(o),a.push({uuid:oa(),name:c,valueId:o.uuid}),{mapChildren:a,fields:Object(He.a)({},n,{},o.fields)}}),{mapChildren:[],fields:{}});return{uuid:t,fields:Object(He.a)({},a.fields,Object(Ce.a)({},t,{mapChildren:a.mapChildren}))}}(e):Zt(e)?function(e){var t=oa(),a=e.reduce((function(e,t){var a=e.arrayChildren,n=e.fields,r=ia(t);return ea(r),a.push({uuid:oa(),valueId:r.uuid}),{arrayChildren:a,fields:Object(He.a)({},n,{},r.fields)}}),{arrayChildren:[],fields:{}});return{uuid:t,fields:Object(He.a)({},a.fields,Object(Ce.a)({},t,{arrayChildren:a.arrayChildren}))}}(e):function(e){var t=oa();return e instanceof yt.firestore.DocumentReference?{uuid:t,fields:Object(Ce.a)({},t,{value:new Kt(e.path)})}:{uuid:t,fields:Object(Ce.a)({},t,{value:e})}}(e)}function la(e){switch(e){case dt.BLOB:return"";case dt.BOOLEAN:return!0;case dt.GEOPOINT:return new yt.firestore.GeoPoint(0,0);case dt.NULL:return null;case dt.NUMBER:return 0;case dt.REFERENCE:return new Kt("");case dt.STRING:return"";case dt.TIMESTAMP:return yt.firestore.Timestamp.fromDate(new Date)}return""}function ua(e,t){return t.reduce((function(t,a){t.push(a);var n=e[a];return Yt(n)?t.push.apply(t,Object(ra.a)(ua(e,n.mapChildren.map((function(e){return e.valueId}))))):$t(n)&&t.push.apply(t,Object(ra.a)(ua(e,n.arrayChildren.map((function(e){return e.valueId}))))),t}),[])}var sa=c.createContext({store:{fields:{}},dispatch:function(){}}),da=Object(Mt.createReducer)({fields:{}}).handleAction(Lt,Object(jt.a)((function(e,t){var a=t.payload,n=e.fields[a.uuid];ta(n);var r=ia(a.value);ea(r),e.fields=Object(He.a)({},e.fields,{},r.fields),n.mapChildren.push({uuid:oa(),name:a.name,valueId:r.uuid})}))).handleAction(Pt,Object(jt.a)((function(e,t){var a=t.payload;aa(e.fields[a.uuid]);var n=ia(a.value);ea(n),e.fields=Object(He.a)({},e.fields,{},n.fields),e.fields[a.uuid].arrayChildren.push({uuid:oa(),valueId:n.uuid})}))).handleAction(Bt,Object(jt.a)((function(e,t){var a=t.payload,n=e.fields[a.uuid];ta(n);var r=n.mapChildren.find((function(e){return e.uuid===a.childId}));if(!r)throw new Error("No map-child found with given ID");var c=!0,o=!1,i=void 0;try{for(var l,u=ua(e.fields,[r.valueId])[Symbol.iterator]();!(c=(l=u.next()).done);c=!0){var s=l.value;delete e.fields[s]}}catch(d){o=!0,i=d}finally{try{c||null==u.return||u.return()}finally{if(o)throw i}}n.mapChildren=n.mapChildren.filter((function(e){return e.uuid!==a.childId}))}))).handleAction(Vt,Object(jt.a)((function(e,t){var a=t.payload,n=e.fields[a.uuid];aa(n);var r=n.arrayChildren.find((function(e){return e.uuid===a.childId}));if(!r)throw new Error("No array-child found with given ID");var c=!0,o=!1,i=void 0;try{for(var l,u=ua(e.fields,[r.valueId])[Symbol.iterator]();!(c=(l=u.next()).done);c=!0){var s=l.value;delete e.fields[s]}}catch(d){o=!0,i=d}finally{try{c||null==u.return||u.return()}finally{if(o)throw i}}n.arrayChildren=n.arrayChildren.filter((function(e){return e.uuid!==a.childId}))}))).handleAction(Ut,Object(jt.a)((function(e,t){var a=t.payload,n=e.fields[a.uuid];ta(n);var r=n.mapChildren.find((function(e){return e.uuid===a.childId}));if(!r)throw new Error("No map-child found with given ID");r.name=a.name}))).handleAction(zt,Object(jt.a)((function(e,t){var a=t.payload;a.type===dt.MAP?e.fields[a.uuid]={mapChildren:[]}:a.type===dt.ARRAY?e.fields[a.uuid]={arrayChildren:[]}:a.type===dt.JSON?e.fields[a.uuid]={isJson:!0,value:{}}:e.fields[a.uuid]={value:la(a.type)}}))).handleAction(qt,Object(jt.a)((function(e,t){var a=t.payload,n=e.fields[a.uuid];!function(e){if(!("value"in e))throw new Error("Field is not primitive")}(n),n.value=a.value}))),ma=function(e,t){return da.handlers[t.type](e,t)},fa=function(e){var t=e.store,a=e.dispatch,n=e.children;return c.createElement(sa.Provider,{value:{store:t,dispatch:a}},n)};function ba(){var e=c.useContext(sa);if(void 0===e)throw new Error("useDocumentStore must be used within a <DocumentStore>");return e}function pa(){var e=ba().store;return c.useMemo((function(){return e}),[e])}function va(){var e=ba().dispatch;return c.useMemo((function(){return e}),[e])}function Ea(e){var t=pa();return c.useMemo((function(){return t.fields[e]}),[t,e])}var ha=function(e){var t=e.value,a=e.onChange;return o.a.createElement(Le,{value:t,outlined:!0,label:"Value",onChange:function(e){return a(e.currentTarget.value)}})};function ga(e){var t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),r=String(e.getHours()).padStart(2,"0"),c=String(e.getMinutes()).padStart(2,"0"),o=String(e.getSeconds()).padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(n,"T").concat(r,":").concat(c,":").concat(o)}var Oa=function(e){var t,a=e.value,n=e.onChange,r=e.name,i=Object(c.useState)(a.toDate()),l=Object(p.a)(i,2),u=l[0],s=l[1],d=Object(bt.e)(),m=d.errors,f=d.formState.touched,b=d.register,v=d.unregister,E=d.setValue;return Object(c.useEffect)((function(){return b(r,{validate:function(e){return!isNaN(e)||"Must be a date-time"}}),function(){return v(r)}}),[b,v,r]),Object(c.useEffect)((function(){a.toMillis()!==u.getTime()&&n(yt.firestore.Timestamp.fromDate(u))}),[a,u,n]),o.a.createElement(Le,{label:"Value",type:"datetime-local",defaultValue:ga(u),onChange:function(e){var t=Date.parse(e.currentTarget.value);E(r,t,!0),isNaN(t)||t===u.getTime()||s(new Date(t))},error:f[r]&&(null===(t=m[r])||void 0===t?void 0:t.message)})},ya=[dt.STRING,dt.NUMBER,dt.BOOLEAN,dt.MAP,dt.ARRAY,dt.NULL,dt.TIMESTAMP,dt.GEOPOINT,dt.REFERENCE],ja=ya.filter((function(e){return e!==dt.ARRAY})),Ca=[dt.STRING,dt.NUMBER,dt.BOOLEAN,dt.MAP,dt.ARRAY,dt.JSON],Na=new Set(ya);var wa=function e(t){var a=t.uuid,n=t.isRtdb,r=t.areNamesMutable,c=void 0===r||r,i=t.areFieldsMutable,l=void 0===i||i,u=t.startingIndex,s=void 0===u?0:u,d=t.supportNestedArrays,m=void 0===d||d,f=t.isJson,b=void 0!==f&&f,p=pa(),v=va(),E=Ea(a);if(Yt(E)){var h=n?Ca:ya;return o.a.createElement("div",{className:"DocumentEditor-Map"},o.a.createElement("div",{className:"DocumentEditor-MapEntries"},E.mapChildren.map((function(t){return o.a.createElement("div",{className:"DocumentEditor-MapEntry",key:t.uuid},o.a.createElement("div",{className:"DocumentEditor-MapEntryMetadata"},o.a.createElement(Sa,{uuid:a,field:E,childId:t.uuid,readonly:!c&&a===p.uuid}),o.a.createElement("span",{className:"Document-TypeSymbol"},"="),o.a.createElement(ka,{uuid:t.valueId,allowedTypes:h})),o.a.createElement(e,{uuid:t.valueId,isRtdb:n,isJson:b}),l&&o.a.createElement(G.a,{className:"DocumentEditor-MapEntryDelete",type:"button",icon:"delete",label:"Remove field",onClick:function(){return v(Bt({uuid:a,childId:t.uuid}))}}))})),l&&o.a.createElement(G.a,{label:"Add field",type:"button",icon:"add",onClick:function(){return v(Lt({uuid:a,name:"",value:""}))}})))}if($t(E)){var g=n?Ca:m?ya:ja;return o.a.createElement("div",{className:"DocumentEditor-Array"},o.a.createElement("div",{className:"DocumentEditor-ArrayEntries"},E.arrayChildren.map((function(t,r){return o.a.createElement("div",{className:"DocumentEditor-ArrayEntry",key:t.uuid},o.a.createElement("div",{className:"DocumentEditor-ArrayEntryMetadata"},o.a.createElement("div",{className:"DocumentEditor-ArrayIndex"},o.a.createElement(Le,{value:r+s,label:"Index",disabled:!0})),o.a.createElement("span",{className:"Document-TypeSymbol"},"="),o.a.createElement(ka,{uuid:t.valueId,allowedTypes:g})),o.a.createElement(e,{uuid:t.valueId,isRtdb:n}),l&&o.a.createElement(G.a,{className:"DocumentEditor-ArrayEntryDelete",type:"button",icon:"delete",label:"Remove field",onClick:function(){return v(Vt({uuid:a,childId:t.uuid}))}}))})),l&&o.a.createElement(G.a,{label:"Add field",type:"button",icon:"add",onClick:function(){return v(Pt({uuid:a,value:""}))}})))}if(Xt(E))return o.a.createElement(Wt,{name:"".concat(a),value:E.value,onChange:function(e){return v(qt({uuid:a,value:e}))}});var O=E.value instanceof Kt?o.a.createElement(na,{name:"".concat(a),value:E.value,onChange:function(e){return v(qt({uuid:a,value:e}))}}):"string"===typeof E.value?o.a.createElement(ha,{value:E.value,onChange:function(e){return v(qt({uuid:a,value:e}))}}):Rt(E.value)?o.a.createElement(Ht,{value:E.value,onChange:function(e){return v(qt({uuid:a,value:e}))}}):Tt(E.value)?o.a.createElement(Gt,{name:"".concat(a),value:E.value,onChange:function(e){return v(qt({uuid:a,value:e}))}}):function(e){return e instanceof yt.firestore.GeoPoint}(E.value)?o.a.createElement(Jt,{name:"".concat(a),value:E.value,onChange:function(e){return v(qt({uuid:a,value:e}))}}):function(e){return e instanceof yt.firestore.Timestamp}(E.value)?o.a.createElement(Oa,{name:"".concat(a),value:E.value,onChange:function(e){return v(qt({uuid:a,value:e}))}}):null;return o.a.createElement("div",{className:"DocumentEditor-Primitive"},O)},ka=function(e){var t=e.uuid,a=e.allowedTypes,n=Ea(t),r=va();return o.a.createElement(Pe,{label:"Type",outlined:!0,options:a,value:xa(n),onChange:function(e){r(zt({uuid:t,type:e.currentTarget.value}))}})},Sa=function(e){var t,a,n=e.uuid,r=e.field,i=e.childId,l=e.readonly,u=Object(bt.e)(),s=u.register,d=u.unregister,m=u.errors,f=u.clearError,b=u.setValue,p=u.setError,v=u.formState.touched,E=va(),h=r.mapChildren.find((function(e){return e.uuid===i}));if(!h)throw new Error("Tried to render a name-edtior for a non-map-child");var g="".concat(i),O=o.a.useMemo((function(){return r.mapChildren.filter((function(e){return e.uuid!==i})).map((function(e){return e.name}))}),[r,i]);return Object(c.useEffect)((function(){return s(g),function(){return d(g)}}),[s,d,g]),Object(c.useEffect)((function(){var e=O.every((function(e){return e!==h.name}));h.name?e?f(g):p(g,"unique","Must be unique"):p(g,"required","Required")}),[h,O,g,p,f]),o.a.createElement(Le,{label:"Field",outlined:!0,value:h.name,disabled:l,onChange:function(e){b(g,e.currentTarget.value),E(Ut({uuid:n,childId:i,name:e.currentTarget.value}))},error:(v[g]||"unique"===(null===(t=m[g])||void 0===t?void 0:t.type))&&(null===(a=m[g])||void 0===a?void 0:a.message)})};function xa(e){return Yt(e)?dt.MAP:$t(e)?dt.ARRAY:Xt(e)?dt.JSON:e.value instanceof Kt?dt.REFERENCE:xt(e.value)}var Ra=function(e){var t=e.value,a=e.onChange,n=e.areRootNamesMutable,r=e.areRootFieldsMutable,i=e.rtdb,l=void 0!==i&&i,u=e.startingIndex,s=e.supportNestedArrays,d=ia(t),m=o.a.useReducer(ma,d),f=Object(p.a)(m,2),b=f[0],v=f[1],E=Object(bt.d)({mode:"onChange"}),h=Object(c.useContext)(pt),g=o.a.useMemo((function(){return function e(t,a){ea(t);var n=t.fields[t.uuid];if(Yt(n))return n.mapChildren.reduce((function(n,r){return n[r.name]=e({uuid:r.valueId,fields:t.fields},a),n}),{});if($t(n))return n.arrayChildren.reduce((function(n,r){return n.push(e({uuid:r.valueId,fields:t.fields},a)),n}),[]);if(n.value instanceof Kt){if(!a)throw new Error("Tried to denormalize a DocumentRef without the FirestoreAPI");try{return a.database.doc(n.value.path)}catch(r){return""}}return n.value}(b,h)}),[b,h]),O=o.a.useMemo((function(){return Object.keys(E.errors).length}),[E]);return Object(c.useEffect)((function(){0===O?a&&a(g):a&&a(void 0)}),[g,O,a]),o.a.createElement(bt.b,E,o.a.createElement(fa,{store:b,dispatch:v},o.a.createElement("div",{className:"DocumentEditor"},o.a.createElement(o.a.Fragment,null,void 0!==b.uuid&&o.a.createElement(wa,{uuid:b.uuid,isRtdb:l,areNamesMutable:n,areFieldsMutable:r,startingIndex:u,supportNestedArrays:s})))))},Ta=function(e){var t=e.value,a=e.onCancel,n=e.onSave,r=e.areRootKeysMutable,i=e.rtdb,l=e.startingIndex,u=Object(c.useState)(),s=Object(p.a)(u,2),d=s[0],m=s[1];function f(){a()}return o.a.createElement(ft.a,{className:"Firestore-InlineEditor-relative-anchor",onClickOutside:f,onEscapeKey:f},o.a.createElement(te.a,{z:8,wrap:!0},o.a.createElement(T.a,{className:"Firestore-InlineEditor",tag:"form",onSubmit:function(e){e.preventDefault(),e.stopPropagation(),d&&n(Object.keys(d)[0],Object.values(d)[0])}},o.a.createElement("div",{className:"Firestore-InlineEditorContent"},o.a.createElement(Ra,{value:t,onChange:function(e){m(e)},areRootNamesMutable:r,areRootFieldsMutable:!1,rtdb:i,startingIndex:l,supportNestedArrays:!1})),o.a.createElement(T.e,{className:"Firestore-InlineEditorActions"},o.a.createElement(T.c,null,o.a.createElement(T.b,{type:"button",onClick:f},"Cancel"),o.a.createElement(T.b,{type:"submit",unelevated:!0,disabled:!d},"Save"))))))},Aa=(a(293),c.memo((function(e){var t=e.dbRef,a=t.key||rt(t),n=function(e){var t=Object(d.i)(),a=t.path.replace("/:path*",""),n=Object(d.f)(t.url,{path:a,strict:!0}),r=(null===n||void 0===n?void 0:n.url)||"";return"/"===r?e:"".concat(r).concat(e)}(new URL(t.toString()).pathname);return c.createElement(A.a,{className:"NodeLink",use:"body1","aria-label":"Key name",tag:s.b,to:n},a)})));a(294);var Fa=c.memo((function(e){var t=e.value,a=(e.use,Object(F.a)(e,["value","use"])),n="string"===typeof t&&t.length>=24?"".concat(t.substr(0,21),"..."):t;return c.createElement(A.a,Object.assign({use:"body1",className:function(e){return"ValueDisplay ValueDisplay__".concat(typeof e)}(t)},a,{"aria-label":"Node value"}),JSON.stringify(n))})),Da=c.memo((function(e){var t=e.value,a=e.realtimeRef,n=Object(c.useState)(!1),r=Object(p.a)(n,2),o=r[0],i=r[1],l=Object(c.useState)(!1),u=Object(p.a)(l,2),s=u[0],d=u[1],m=function(){i(!o)},f=function(){var e=Object(Z.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.set(n);case 2:i(!1);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),b=function(){var e=Object(Z.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.child(t).set(n);case 2:d(!1);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),v=function(){var e=Object(Z.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.remove();case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),h=!a.parent&&null===t;return c.createElement("div",{className:"NodeLeaf"},c.createElement("div",{className:"NodeLeaf__key"},c.createElement(Aa,{dbRef:a}),": ",c.createElement(Fa,{use:"body1",value:t,onClick:m})),c.createElement("span",{className:"NodeLeaf__actions"},c.createElement(mt.a,{content:"Edit value"},c.createElement(G.a,{icon:"edit",onClick:m,"aria-label":"Edit value"})),h&&c.createElement(mt.a,{content:"Add child"},c.createElement(G.a,{icon:"add",onClick:function(){d(!s)},"aria-label":"Add child"})),c.createElement(mt.a,{content:"Delete value"},c.createElement(G.a,{icon:"delete",onClick:v,"aria-label":"Delete value"}))),c.createElement("div",{className:"NodeLeaf__edit-ui"},o&&c.createElement(Ta,{rtdb:!0,value:Object(Ce.a)({},a.key||a.toString(),null===t?"":t),onCancel:function(){return i(!1)},onSave:f,areRootKeysMutable:!1}),s&&c.createElement(Ta,{rtdb:!0,value:Object(Ce.a)({},a.push().key,""),onCancel:function(){return d(!1)},onSave:b,areRootKeysMutable:!0})))})),Ia=(a(336),a(221)),_a=a(228),Ma=function(e){return new URL(e.toString()).pathname},La=c.memo((function(e){var t=e.realtimeRef,a=e.query,n=e.onComplete;Object(Ia.ok)(t.parent,"Cannot clone the root node!");var r=null!=a,o=t.key,i=Object(c.useState)(""),l=Object(p.a)(i,2),u=l[0],s=l[1],d=Object(c.useState)({}),m=Object(p.a)(d,2),f=m[0],b=m[1],v=Object(c.useState)(!0),h=Object(p.a)(v,2),g=h[0],O=h[1],y=Object(c.useState)(r),j=Object(p.a)(y,2),C=j[0],N=j[1];Object(c.useEffect)((function(){(function(){var e=Object(Z.a)(E.a.mark((function e(){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,null==a||!C){e.next=7;break}return e.next=4,a.once("value");case 4:n=e.sent,e.next=10;break;case 7:return e.next=9,t.once("value");case 9:n=e.sent;case 10:r={},Object.entries(n.val()||{}).forEach((function(e){var t=Object(p.a)(e,2),a=t[0],n=t[1];r[a]=JSON.stringify(n)})),b(r),s((c=t,o.startsWith("-")?"".concat(Ma(c.parent),"/").concat(c.push().key):"".concat(Ma(c),"_copy"))),O(!1);case 15:case"end":return e.stop()}var c}),e)})));return function(){return e.apply(this,arguments)}})()()}),[O,b,s,o,t,C,a]);var w=function(e){var t=e.target;b(Object(He.a)({},f,Object(Ce.a)({},t.name,t.value)))};return c.createElement(je.a,{open:!0},c.createElement("form",{onSubmit:function(e){e.preventDefault();var a={};Object.entries(f).forEach((function(e){var t=Object(p.a)(e,2),n=t[0],r=t[1];a[n]=JSON.parse(r)})),t.root.child(u).set(a),n(u)}},c.createElement(je.e,null,'Clone "',o,'"'),c.createElement(je.d,null,c.createElement(Le,{label:"New destination path:",value:u,onChange:function(e){return s(e.target.value)},type:"text"}),r?c.createElement("div",null,c.createElement(_a.a,{label:"Clone filtered data set",checked:C,onChange:function(e){N(!!e.currentTarget.checked)}})):null,c.createElement(A.a,{use:"headline6"},"Data"),g?"Loading...":Object.entries(f).map((function(e){var t=Object(p.a)(e,2),a=t[0],n=t[1];return c.createElement("div",{key:a},c.createElement("label",null,a,":",c.createElement(ae.a,{name:a,type:"text",value:n,onChange:w,placeholder:"JSON or simple text"})))}))),c.createElement(je.b,null,c.createElement(je.c,{type:"button",action:"close",theme:"secondary",onClick:function(){return n()}},"Cancel"),c.createElement(je.c,{unelevated:!0,action:"accept"},"Clone"))))})),Pa=(a(340),a(222)),Ba=a.n(Pa),Va=c.memo((function(e){var t=e.params,a=void 0===t?{}:t,n=e.onSubmit,r=e.onCancel,o=a.key,i=void 0===o?"":o,l=a.operator,u=void 0===l?"==":l,s=a.value,d=void 0===s?"":s,m=a.limit,f=void 0===m?50:m,b=Object(c.useState)({key:i,operator:u,value:JSON.stringify(d),limit:"".concat(f)}),v=Object(p.a)(b,2),E=v[0],h=v[1],g=function(e){var t=e.target;h(Object(He.a)({},E,Object(Ce.a)({},t.name,t.value)))},O=Object(c.useRef)(null),y=Object(c.useRef)(null);return Object(c.useEffect)((function(){i?(y.current.focus(),y.current.select()):(O.current.focus(),O.current.select())}),[i]),c.createElement(T.a,{className:"InlineQuery InlineQuery__card",tag:"form",onSubmit:function(e){e.preventDefault(),n&&n(function(e){var t=e.key,a=e.operator,n=e.value,r=e.limit;return{key:t,operator:a,value:nt(n||"null"),limit:Number(r)}}(E))},onKeyDown:function(e){e.keyCode===Ba()("esc")&&r&&r()}},c.createElement("div",{className:"InlineQuery__form-fields"},c.createElement(Le,{outlined:!0,label:"Key",name:"key",value:E.key,onChange:g,inputRef:O}),c.createElement(Pe,{label:"Condition",name:"operator",options:["==",">=","<="],value:E.operator,onChange:g}),c.createElement(Le,{label:"Value",name:"value",value:E.value,onChange:g,inputRef:y,placeholder:"JSON or plain text"}),c.createElement(Le,{label:"limit",name:"limit",value:E.limit,onChange:g})),c.createElement(T.e,{className:"InlineQuery__actions"},c.createElement(T.c,null,a!==at&&c.createElement(T.b,{type:"button",label:"Reset",danger:!0,onClick:function(){return n(at)}}),c.createElement(T.b,{theme:"secondary",type:"button",label:"Cancel",onClick:function(){return r&&r()}}),c.createElement(T.b,{unelevated:!0,type:"submit",label:"Search"}))))}));var Ua,za=c.memo((function(e){var t=e.realtimeRef,a=e.isOpen,n=e.onComplete,r=t.key,o=Object(c.useState)({newKey:r}),i=Object(p.a)(o,2),l=i[0],u=i[1],s=function(){var e=Object(Z.a)(E.a.mark((function e(a){var c,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,t.once("value");case 3:return c=e.sent,e.prev=4,e.next=7,t.parent.update((o={},Object(Ce.a)(o,l.newKey,c.val()),Object(Ce.a)(o,r,null),o));case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(4);case 11:n(!0);case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}();return c.createElement(je.a,{open:a,onClose:function(){return n(!1)}},c.createElement("form",{onSubmit:s},c.createElement(je.e,null,'Rename "',r,'"'),c.createElement(je.d,{onSubmit:s},c.createElement(Le,{name:"newKey",label:"New key:",value:l.newKey,onChange:function(e){var t=e.target;u(Object(He.a)({},l,Object(Ce.a)({},t.name,t.value)))},type:"text"})),c.createElement(je.b,null,c.createElement(je.c,{action:"close",type:"button",theme:"secondary"},"Cancel"),c.createElement(je.c,{type:"submit",unelevated:!0},"Rename"))))})),qa=function(e){return e===Te.Table?Te.TreeView:Te.Table},Ha=function(e){switch(e){case Te.Table:return"view_comfy";case Te.TreeView:return"view_list";default:throw new Error("Display type is unrecognized")}},Ja={color:"#09d3ac"},Wa=c.memo((function(e){var t=e.displayType,a=e.onDisplayTypeChange,n=e.realtimeRef,r=e.updateQuery,o=e.onExpandRequested,i=e.queryParams,l=Object(c.useState)(!1),u=Object(p.a)(l,2),s=u[0],d=u[1],m=Object(c.useState)(!1),f=Object(p.a)(m,2),b=f[0],v=f[1],h=Object(c.useState)(!1),g=Object(p.a)(h,2),O=g[0],y=g[1],j=Object(c.useState)(!1),C=Object(p.a)(j,2),N=C[0],w=C[1],k=Object(c.useState)(!1),S=Object(p.a)(k,2),x=S[0],R=S[1],T=s||b||O||N||x||i!==at,A=null===n.parent,F=n.push().key,I=function(){var e=Object(Z.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.child(t).set(a);case 2:v(!1);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=function(){var e=Object(Z.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.remove();case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),M=c.useMemo((function(){return ut(n,i||{})}),[n,i]);return c.createElement("aside",{className:"NodeActions"+(T?" NodeActions--active":"")},c.createElement(mt.a,{content:"Filter children"},c.createElement(G.a,{icon:"filter_list",onIcon:c.createElement("span",{style:Ja},"filter_list"),onClick:function(){return o(),void y(!0)},checked:i!==at})),c.createElement(mt.a,{content:"Add child"},c.createElement(G.a,{icon:"add",onClick:function(){o(),v(!b)}})),A?null:c.createElement(mt.a,{content:"Switch view"},c.createElement(G.a,{icon:Ha(qa(t)),onClick:function(){a(qa(t))}})),c.createElement(K.b,{renderToPortal:!1,handle:c.createElement(G.a,{icon:"more_vert"}),onOpen:function(){return d(!0)},onClose:function(){return d(!1)}},c.createElement(K.a,{onClick:_},c.createElement(D.a,{icon:"delete"})," Remove"),!A&&c.createElement(K.a,{onClick:function(){return w(!0)}},c.createElement(D.a,{icon:"file_copy"})," Clone"),!A&&c.createElement(K.a,{onClick:function(){return R(!0)}},c.createElement(D.a,{icon:"edit"})," Rename")),c.createElement("div",{className:"NodeActions__additional-ui"},b&&c.createElement(Ta,{rtdb:!0,value:Object(Ce.a)({},F,""),onCancel:function(){return v(!1)},onSave:I,areRootKeysMutable:!0}),O&&c.createElement(Va,{params:i,onSubmit:function(e){r&&r(e),y(!1)},onCancel:function(){return y(!1)}}),N&&c.createElement(La,{realtimeRef:n,query:M,onComplete:function(){return w(!1)}}),!A&&c.createElement(za,{realtimeRef:n,isOpen:x,onComplete:function(){return R(!1)}})))})),Ga=(a(205),a(341),a(345),a(50));!function(e){e.KeyValue="kvp",e.KeyObject="ko",e.Array="arr"}(Ua||(Ua={}));var Ka=c.memo((function(e){var t=e.query,a=e.hasMoreRows,n=e.onLoadMore,r=Object(c.useState)({type:Ua.Array,headers:[],rows:[]}),o=Object(p.a)(r,2),i=o[0],l=o[1];return Object(c.useEffect)((function(){Object(Z.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,Qa(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[t]),c.createElement(Ga.a,{className:"NodeTabularDisplay"},c.createElement(Ga.d,null,c.createElement(Ga.e,null,c.createElement(Ga.g,null,i.headers.map((function(e,t){return c.createElement(Ga.f,{key:t},c.createElement(A.a,{use:"body1"},e))})))),c.createElement(Ga.b,null,i.rows.map((function(e,a){return c.createElement(Ga.g,{key:a},i.headers.map((function(a,n){return function(e,t,a,n,r){if(0===n)return c.createElement(Ga.c,{key:a},c.createElement(A.a,{use:"body2",className:"NodeTabularDisplay__key"},c.createElement(Aa,{dbRef:r.child(t.pkId)})));var o=e.type===Ua.KeyValue||e.type===Ua.Array?t.value:t.value[a];switch(typeof o){case"undefined":return c.createElement(Ga.c,{className:"undef",key:a});case"object":return c.createElement(Ga.c,{className:"object",key:a},c.createElement(A.a,{use:"body2"},"{ ... }"));default:return c.createElement(Ga.c,{className:typeof o,key:a},c.createElement(Fa,{value:o,use:"body2"}))}}(i,e,a,n,t.ref)})))}))),a&&c.createElement(Ga.e,null,c.createElement(Ga.g,null,c.createElement(Ga.c,{colSpan:i.headers.length},c.createElement(Be.a,{onClick:function(){return n&&n()}},"Load More"))))))}));function Qa(e){return Za.apply(this,arguments)}function Za(){return(Za=Object(Z.a)(E.a.mark((function e(t){var a,n,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.once("value");case 2:if(a=e.sent,void 0!==(n=a.val())&&null!==n){e.next=6;break}return e.abrupt("return",{type:Ua.KeyValue,headers:["No Data Available"],rows:[{pkId:"value is undefined",value:"Value is undefined"}]});case 6:return r=Object.entries(n),c=Ya(r),e.abrupt("return",{type:c,headers:$a(c,r),rows:r.map((function(e){var t=Object(p.a)(e,2);return{pkId:t[0],value:t[1]}}))});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ya(e){var t=Object(p.a)(e[0],2),a=t[0],n=t[1];return isNaN(parseInt(a))?"object"===typeof n?Ua.KeyObject:Ua.KeyValue:Ua.Array}function $a(e,t){var a=Object(p.a)(t[0],2)[1];switch(e){case Ua.KeyValue:return["key","value"];case Ua.Array:return["","value"];default:return["key"].concat(Object(ra.a)(Object.keys(a)))}}var Xa=c.memo((function(e){var t=e.realtimeRef,a=e.children,n=e.queryParams,r=e.updateQuery,o=e.isViewRoot,i=e.query,l=null===t.parent,u=!!a.length,s=Object(c.useState)(!(!l&&!o)),d=Object(p.a)(s,2),m=d[0],f=d[1],b=Object(c.useState)(Te.TreeView),v=Object(p.a)(b,2),E=v[0],h=v[1],g=n&&n.limit?a.length>=n.limit:a.length>=50,O=function(){var e=n&&n.limit||50;r&&r(Object(He.a)({},n,{limit:e+50}))},y=Object(c.useCallback)((function(){return f(!m)}),[f,m]);return c.createElement("div",{className:"NodeParent"},c.createElement("div",{className:"NodeParent__label"},m?c.createElement("button",{className:"NodeParent__tree-button material-icons","aria-label":"less",onClick:y},"arrow_drop_down"):c.createElement("button",{className:"NodeParent__tree-button material-icons","aria-label":"more",onClick:y},"arrow_right"),c.createElement(Aa,{dbRef:t}),c.createElement(Wa,{realtimeRef:t,displayType:E,onDisplayTypeChange:function(e){h(e),f(!0)},onExpandRequested:function(){return f(!0)},queryParams:n,updateQuery:r})),c.createElement("div",{className:"NodeParent__children-container"},u&&m&&(E===Te.Table?c.createElement(Ka,{query:i||t,hasMoreRows:g,onLoadMore:O}):c.createElement("ul",{className:"NodeParent__children"},a.map((function(e){return c.createElement("li",{key:e},c.createElement(tn,{realtimeRef:t.child(e)}))})),g&&c.createElement("li",{className:"load-more"},c.createElement(Be.a,{onClick:O},"Load more..."))))))})),en={isLoading:!0,children:[]},tn=c.memo((function(e){var t=e.realtimeRef,a=e.isViewRoot,n=Object(c.useState)(en),r=Object(p.a)(n,2),o=r[0],i=r[1],l=Object(c.useState)(void 0),u=Object(p.a)(l,2),s=u[0],d=u[1];Object(c.useEffect)((function(){var e=function(e){var t=st(e,{print:"silent",timeout:"1s"});return Object(We.a)((function(){return fetch(t,{headers:ot})})).pipe(Object($e.a)(!0),Object(Xe.a)((function(){return Object(Ge.a)(!1)})),Object(et.a)({bufferSize:1,refCount:!0}))}(t),a=it(t,e),n=a.query,r=a.viewModel$;d(n);var c=r.subscribe((function(e){return i(e)}));return function(){return c.unsubscribe()}}),[t]);var m=Object(c.useState)(at),f=Object(p.a)(m,2),b=f[0],v=f[1],E=o.children,h=o.query;return!!E.length||b!==at?c.createElement(Xa,{realtimeRef:t,children:E,queryParams:b,updateQuery:function(e){v(e),s&&s.next(e)},isViewRoot:a,query:h}):c.createElement(Da,{realtimeRef:t,value:o.value})})),an=function(e){var t=e.root.toString();return t.substring(0,t.length-1)},nn=function(e){var t=e.config,a=e.namespace,n=e.path,r=Object(c.useState)(void 0),i=Object(p.a)(r,2),l=i[0],u=i[1],s=Object(c.useState)(void 0),m=Object(p.a)(s,2),f=m[0],b=m[1],v=Object(d.g)(),E=Object(c.useState)(!1),h=Object(p.a)(E,2),g=h[0],O=h[1],y=Object(c.useState)(),j=Object(p.a)(y,2),C=j[0],N=j[1];Object(c.useEffect)((function(){var e=X(t,a),r=Object(p.a)(e,2),c=r[0],o=r[1].cleanup;u(n?c.ref(n):c.ref());var i=new he(t,a);return b(i),function(){o(),i.delete()}}),[t,a,n]);var w="/database/".concat(a,"/data");return o.a.createElement("div",{className:"Database-Database"},l&&f?o.a.createElement(o.a.Fragment,null,o.a.createElement(le,{base:w,path:n||"/",inputPrefix:an(l),onNavigate:function(e){e.startsWith("/")&&(e=e.substr(1)),v.push("".concat(w,"/").concat(e))}},o.a.createElement(K.b,{handle:o.a.createElement(G.a,{icon:"more_vert",label:"Open menu"}),renderToPortal:!0},o.a.createElement(K.a,{onClick:function(){return O(!0)}},"Import JSON"))),o.a.createElement(rn,{onDrop:function(e){return N(e)}},o.a.createElement(tn,{realtimeRef:l,isViewRoot:!0})),(g||C)&&o.a.createElement(qe,{api:f,reference:l,droppedFile:C,onComplete:function(){N(void 0),O(!1)}})):o.a.createElement("p",null,"Loading"))},rn=function(e){var t=e.onDrop,a=e.children,n=Object(Q.a)({onDrop:function(e){return t(e[0])},noClick:!0,accept:"application/json"}),r=n.getInputProps,c=n.getRootProps,i=n.isDragActive,l=n.isDragAccept;return o.a.createElement("div",Object.assign({className:"Database-Content"},c()),a,i&&o.a.createElement("div",{className:"Database-Content-Dragging"},l?"Drop JSON file to import":o.a.createElement("span",{className:"invalid"},"Only JSON files are supported for data import.")),o.a.createElement("input",r()))};var cn=Object(O.a)((function(e){return e.database.databases}),(function(e){return Object(R.c)(e.result)?e.result.data.map((function(e){return e.name})):void 0})),on=(a(346),a(413)),ln=a(415),un=function(e){var t=e.name,a=e.navigation,n=e.activated,r=a(t);return o.a.createElement(on.d,{activated:n,tag:s.b,to:r,"data-testid":"nav-".concat(t)},o.a.createElement(on.e,{tag:B,size:"large",theme:"primary"}),o.a.createElement(on.g,null,t))},sn=function(e){var t=e.primary,a=e.current,n=e.navigation,r=e.databases,c=r?r.filter((function(e){return e!==t})):[];a!==t&&c.indexOf(a)<0&&c.push(a);var i="Database-Picker";return 0===c.length&&(i+=" Database-Picker--primary-only"),o.a.createElement("div",{className:i},o.a.createElement(ln.a,null,o.a.createElement(on.b,null,o.a.createElement(on.c,null,o.a.createElement(A.a,{use:"caption"},"Databases")),o.a.createElement(un,{activated:a===t,name:t,navigation:n}),o.a.createElement(on.a,{tag:"div"}),c.map((function(e){return o.a.createElement(un,{key:e,activated:a===e,name:e,navigation:n})})))))},dn=S({databases:cn}),mn=Object(u.b)(dn,(function(e){return{databasesSubscribe:function(){e(Object(j.databasesSubscribe)())},databasesUnsubscribe:function(){e(Object(j.databasesUnsubscribe)())}}}))((function(e){var t=e.current,a=e.primary,n=e.navigation,r=e.databases,i=e.children,l=e.databasesSubscribe,u=e.databasesUnsubscribe;Object(c.useEffect)((function(){return l(),u}),[l,u]);var s=Object(c.useState)(r),d=Object(p.a)(s,2),m=d[0],f=d[1],v=!1;return r!==m&&(void 0===m||void 0===r||m.join("|")===r.join("|")?f(r):v=!0),o.a.createElement(o.a.Fragment,null,v&&o.a.createElement(b.b,{span:12},o.a.createElement(Ie,{icon:"info",actions:o.a.createElement(Be.a,{theme:"secondary",onClick:function(){return f(r)}},"Reload")},"There are new databases that have been created. Reload the page to view them.")),o.a.createElement(b.b,{span:12},o.a.createElement(te.a,{z:2,wrap:!0},o.a.createElement(T.a,{className:"canvas-card"},o.a.createElement("div",{className:"Database"},o.a.createElement(sn,{current:t,primary:a,navigation:n,databases:m}),i)))))})),fn=S({projectIdResult:x.d,configResult:x.b}),bn=Object(u.b)(fn)((function(e){var t=e.projectIdResult,a=e.configResult;return Object(R.b)(Object(R.a)(t,a),{onNone:function(){return o.a.createElement(W,{span:12,message:"Realtime Database Emulator Loading..."})},onError:function(){return o.a.createElement(vn,null)},onData:function(e){var t=Object(p.a)(e,2),a=t[0],n=t[1];return void 0===n?o.a.createElement(vn,null):o.a.createElement(pn,{projectId:a,config:n})}})})),pn=function(e){var t=e.projectId,a=e.config,n=Object(d.i)(),r=n.path,c=n.url,i=t;return o.a.createElement(d.d,null,o.a.createElement(d.b,{exact:!0,path:r},o.a.createElement(d.a,{to:"".concat(c,"/").concat(i,"/data")}),";"),o.a.createElement(d.b,{path:"".concat(r,"/:namespace/data/:path*"),render:function(e){var t=e.match,n=t.params.namespace,r="/".concat(t.params.path||"");return o.a.createElement(mn,{primary:i,current:n,navigation:function(e){return"".concat(c,"/").concat(e,"/data")}},o.a.createElement(nn,{namespace:n,path:r,config:a}))}}))},vn=function(){return o.a.createElement(z,{productName:"RTDB"})};a(122);var En=function(e){Object(fe.a)(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=Object(me.a)(e);if(t()){var r=Object(me.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(de.a)(this,a)}}(a);function a(e,n,r){var c;Object(ue.a)(this,a),(c=t.call(this)).projectId=e,c.databaseId=n,c.baseUrl=void 0,c.baseEmulatorUrl=void 0,c.cleanup=void 0,c.database=void 0;var o=function(e,t){var a=$.initializeApp({projectId:e},"Firestore Component: ".concat(Math.random()));ee(a);var n=a.firestore();return n.settings({host:t.hostAndPort,ssl:!1}),window.firestore||console.log("\ud83d\udd25 Firestore is available at window.firestore.\n\n    Try:\n    firestore.doc('hello/world').set({hello: 'world!'});\n    firestore.doc('hello/world').get().then( snap => console.log(snap.data()) );"),window.firestore=n,[n,{cleanup:function(){return a.delete()}}]}(e,r),i=Object(p.a)(o,2),l=i[0],u=i[1].cleanup;return c.database=l,c.cleanup=u,c.baseUrl="http://".concat(r.hostAndPort,"/v1/projects/").concat(e,"/databases/").concat(n),c.baseEmulatorUrl="http://".concat(r.hostAndPort,"/emulator/v1/projects/").concat(e,"/databases/").concat(n),c}return Object(se.a)(a,[{key:"delete",value:function(){return this.cleanup()}},{key:"getRootCollections",value:function(){var e=Object(Z.a)(E.a.mark((function e(){var t,a,n,r=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.jsonRequest("".concat(this.baseUrl,"/documents:listCollectionIds"),{},"POST");case 2:return t=e.sent,a=t.json,n=a.collectionIds||[],e.abrupt("return",n.map((function(e){return r.database.collection(e)})));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSubCollections",value:function(){var e=Object(Z.a)(E.a.mark((function e(t){var a,n,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.path,e.next=3,this.jsonRequest("".concat(this.baseUrl,"/documents/").concat(a,":listCollectionIds"),{},"POST");case 3:return n=e.sent,r=n.json,c=r.collectionIds||[],e.abrupt("return",c.map((function(e){return t.collection(e)})));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCollections",value:function(){var e=Object(Z.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,this.getSubCollections(t);case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,this.getRootCollections();case 8:e.t0=e.sent;case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"nukeDocuments",value:function(){var e=Object(Z.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.jsonRequest("".concat(this.baseEmulatorUrl,"/documents"),{},"DELETE");case 2:return e.abrupt("return",[]);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(ve),hn=Object(f.b)(),gn=hn.dialogs,On=(hn.alert,hn.confirm),yn=(hn.prompt,function(){return On({title:"Delete all data?",body:"Proceeding will delete all your collections, sub-collections and\n             documents within your database.",acceptLabel:null,cancelLabel:null,footer:o.a.createElement(o.a.Fragment,null,o.a.createElement(je.c,{type:"button",theme:"secondary",action:"close"},"Cancel"),o.a.createElement(je.c,{unelevated:!0,action:"accept",isDefaultAction:!0,danger:!0},"Clear"))})}),jn=a(152),Cn=a(144),Nn=a(175),wn=a.n(Nn),kn=a(408),Sn=Object(Mt.createAction)("@firestore/addCollectionFilter")(),xn=Object(Mt.createAction)("@firestore/removeCollectionFilter")(),Rn={collectionFilters:{}},Tn=c.createContext({store:Rn,dispatch:function(){}}),An=Object(Mt.createReducer)(Rn).handleAction(Sn,Object(jt.a)((function(e,t){var a=t.payload,n=(a.path,Object(F.a)(a,["path"]));e.collectionFilters[a.path]=n}))).handleAction(xn,Object(jt.a)((function(e,t){var a=t.payload;delete e.collectionFilters[a.path]}))),Fn=function(e,t){return An.handlers[t.type](e,t)},Dn=function(e){var t=e.initState,a=void 0===t?Rn:t,n=e.children,r=c.useReducer(Fn,a),o=Object(p.a)(r,2),i=o[0],l=o[1];return c.createElement(Tn.Provider,{value:{store:i,dispatch:l}},n)};function In(){var e=c.useContext(Tn);if(void 0===e)throw new Error("useFirestoreStore must be used within a <FirestoreStore>");return e}function _n(e){return In().store.collectionFilters[e]}var Mn=a(39),Ln=a.n(Mn);var Pn=o.a.memo((function(e){var t=e.name,a=e.error,n=Object(bt.e)(),r=n.setValue,i=(0,n.watch)(t),l=Object(c.useState)(function(e){return Rt(e)?"boolean":Tt(e)?"number":"string"}(i)),u=Object(p.a)(l,2),s=u[0],d=u[1];return Object(c.useEffect)((function(){void 0===i&&r(t,"")}),[i,r,t]),o.a.createElement("div",{className:Ln.a.conditionEntry},o.a.createElement(Pe,{options:["string","number","boolean"],value:s,onChange:function(e){d(e.currentTarget.value)},fieldClassName:Ln.a.conditionEntryType}),"string"===s&&o.a.createElement(bt.a,{as:Le,name:t,defaultValue:"",error:a,fieldClassName:Ln.a.conditionEntryValue,"aria-label":"Value"}),"number"===s&&o.a.createElement(bt.a,{as:Le,name:t,defaultValue:"",rules:{pattern:{value:wt,message:"Must be a number"}},error:a,onChange:function(e){var t=Object(p.a)(e,1)[0];return t.target.value.match(wt)?parseFloat(t.target.value):t.target.value},fieldClassName:Ln.a.conditionEntryValue,"aria-label":"Value"}),"boolean"===s&&o.a.createElement(Bn,{name:t}))})),Bn=function(e){var t=e.name,a=Object(bt.e)(),n=a.register,r=a.setValue,i=a.unregister,l=a.watch;Object(c.useEffect)((function(){return n({name:t}),r(t,!0),function(){return i(t)}}),[n,i,r,t]);var u=l(t);return o.a.createElement(Pe,{name:t,options:["true","false"],value:u,onChange:function(e){return r(t,"true"===e.currentTarget.value)},fieldClassName:Ln.a.conditionEntryValue,"aria-label":"Value"})},Vn=function(e){var t=e.name,a=Object(bt.e)(),n=a.errors,r=a.formState.touched,i=Object(bt.c)({name:t}),l=i.fields,u=i.append,s=i.remove;return Object(c.useEffect)((function(){l.length<1&&u({_:""})}),[u,l]),o.a.createElement("ul",{className:Ln.a.conditionEntries},l.map((function(e,a){var c="".concat(t,"[").concat(a,"]");return o.a.createElement("li",{key:e.id},o.a.createElement(Pn,{name:c,error:r[c]&&n[c]}),o.a.createElement(G.a,{className:l.length>1?Ln.a.removeFilter:Ln.a.hidden,icon:"delete",label:"Remove filter",type:"button",onClick:function(){return s(a)}}))})),o.a.createElement(Be.a,{type:"button",icon:"add",onClick:function(){return u({_:""})}},"Add value"))},Un=a(178),zn=function(e){var t=e.name,a=e.disabled,n=Object(bt.e)(),r=n.register,i=n.setValue,l=n.unregister,u=n.watch;Object(c.useEffect)((function(){return a?i(t,void 0):r({name:t}),function(){return l(t)}}),[r,l,a,t,i]);var s=u(t);return o.a.createElement(o.a.Fragment,null,o.a.createElement(Un.a,{value:"asc",label:"Ascending",checked:"asc"===s,onChange:function(){return i(t,"asc")},disabled:a}),o.a.createElement(Un.a,{value:"desc",label:"Descending",checked:"desc"===s,onChange:function(){return i(t,"desc")},disabled:a}))},qn=function(e){var t,a,n=e.className,r=e.path,i=e.onClose,l=_n(r),u=function(){var e=In().dispatch;return c.useMemo((function(){return e}),[e])}(),s=Object(bt.d)({mode:"onChange",defaultValues:l}),d=s.watch({nest:!0});return o.a.createElement(Hn,null,o.a.createElement(bt.b,s,o.a.createElement("form",{onSubmit:s.handleSubmit((function(e){u(Sn(Object(He.a)({path:r},e))),null===i||void 0===i||i()})),className:n},o.a.createElement(Kn,{title:"Filter by field",preview:d.field,defaultOpen:!0},o.a.createElement(bt.a,{as:Le,name:"field",label:"Enter field",rules:{required:"Required"},defaultValue:"",error:s.formState.touched.field&&(null===(t=s.errors.field)||void 0===t?void 0:t.message)})),o.a.createElement(Kn,{title:"Add condition",preview:o.a.createElement(Jn,{cf:d}),defaultOpen:!0},o.a.createElement(Gn,null,d&&ht(d)&&o.a.createElement(Pn,{name:"value",error:s.formState.touched.value&&(null===(a=s.errors.value)||void 0===a?void 0:a.message)}),d&&gt(d)&&o.a.createElement(Vn,{name:"values"}))),o.a.createElement(Kn,{title:"Sort results",preview:Ot(d)&&d.sort,defaultOpen:!0},o.a.createElement(zn,{name:"sort",disabled:!Ot(d)})),o.a.createElement(Wn,{path:r,cf:d}),o.a.createElement(T.e,{className:Ln.a.actions},o.a.createElement(T.c,null,o.a.createElement(T.b,{type:"button",onClick:function(){u(xn({path:r})),null===i||void 0===i||i()}},"Clear")),o.a.createElement(T.c,null,o.a.createElement(T.b,{type:"button",onClick:function(){return null===i||void 0===i?void 0:i()}},"Cancel"),o.a.createElement(T.b,{unelevated:!0,type:"submit",disabled:!s.formState.isValid},"Apply"))))))},Hn=function(e){var t=e.children;return o.a.createElement(r.b,{options:{background:"#F5F5F5",surface:"#fff"}},o.a.createElement(r.a,{use:["background"],tag:"div"},t))},Jn=function(e){var t=e.cf,a='"'.concat(t.operator,'"');return ht(t)?o.a.createElement("span",null,"".concat(a,', "').concat(t.value,'"')):gt(t)?o.a.createElement("span",null,"".concat(a,", ").concat(JSON.stringify(t.values))):null},Wn=function(e){var t=e.path,a=e.cf,n=t.split("/").pop();return o.a.createElement("code",{className:Ln.a.preview,"aria-label":"Code preview"},o.a.createElement("div",null,".collection(","".concat(JSON.stringify(n)),")"),(ht(a)||gt(a))&&o.a.createElement("div",{className:Ln.a.previewFilter},'.where("',a.field,'", ',o.a.createElement(Jn,{cf:a}),")"),Ot(a)&&!!a.sort&&o.a.createElement("div",{className:Ln.a.previewFilter},".orderBy(",'"'.concat(a.field,'", "').concat(a.sort,'"'),")"))},Gn=function(e){var t=e.children;return o.a.createElement(o.a.Fragment,null,o.a.createElement(bt.a,{as:Pe,name:"operator",label:"Only show documents where the specified field is...",placeholder:"No condition",options:[{label:"(==) equal to",value:"=="},{label:"(>) greater than",value:">"},{label:"(>=) greater than or equal to",value:">="},{label:"(<) less than",value:"<"},{label:"(<=) less than or equal to",value:"<="},{label:"(in) equal to any of the following",value:"in"},{label:"(array-contains) an array containing",value:"array-contains"},{label:"(array-contains-any) an array containing any",value:"array-contains-any"}],onChange:function(e){return Object(p.a)(e,1)[0].currentTarget.value||void 0}}),t)},Kn=function(e){var t=e.title,a=e.preview,n=e.defaultOpen,r=e.children,i=Object(c.useState)(n),l=Object(p.a)(i,2),u=l[0],s=l[1];return o.a.createElement(kn.a,{className:Ln.a.listItem,defaultOpen:u,handle:o.a.createElement(on.h,{text:o.a.createElement("div",{className:Ln.a.headerTitle},o.a.createElement(A.a,{use:"body1"},t),!u&&a&&o.a.createElement(A.a,{use:"caption"},a)),metaIcon:"chevron_right",className:Ln.a.header}),onOpen:function(){return s(!0)},onClose:function(){return s(!1)}},o.a.createElement("div",{className:Ln.a.children},r))},Qn=function(e){var t=e.collectionRef,a=e.onChange,n=Object(c.useState)(t.doc().id),r=Object(p.a)(n,2),i=r[0],l=r[1],u=Object(c.useState)(),s=Object(p.a)(u,2),d=s[0],m=s[1],f=Object(c.useCallback)((function(){try{return{id:i,data:d}}catch(e){return{id:i,data:{invalidData:!0}}}}),[i,d]);Object(c.useEffect)((function(){a(f())}),[f,a]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(Le,{id:"add-document-path",fullwidth:!0,disabled:!0,label:"Parent path",value:t.path}),o.a.createElement(Le,{id:"add-document-id",fullwidth:!0,label:"Document ID",value:i,onChange:function(e){l(e.target.value),a(f())},required:!0}),o.a.createElement(Ra,{value:{"":""},onChange:function(e){return m(e)}}))},Zn=function(e){var t=e.collectionRef,a=e.onClose,n=e.onValue,r=Object(F.a)(e,["collectionRef","onClose","onValue"]),i=Object(c.useState)({id:"",data:void 0}),l=Object(p.a)(i,2),u=l[0],s=l[1];return o.a.createElement(je.a,Object.assign({},r,{onClose:function(e){n("accept"===e.detail.action?u:null),a&&a(e)}}),o.a.createElement(je.e,null,"Add a document"),o.a.createElement(je.d,null,o.a.createElement(Qn,{collectionRef:t,onChange:s})),o.a.createElement(je.b,null,o.a.createElement(je.c,{action:"close",type:"button",theme:"secondary"},"Cancel"),o.a.createElement(je.c,{unelevated:!0,action:"accept",isDefaultAction:!0,disabled:!u.data},"Save")))},Yn=(a(347),function(e){var t=e.id,a=e.icon,n=e.children;return o.a.createElement("div",{className:"Firestore-PanelHeader"},o.a.createElement(oe,null,o.a.createElement(r.a,{use:"secondary"},a),o.a.createElement(A.a,{use:"body2",className:"Firestore-PanelHeader-title"},t),o.a.createElement(ie,null,n)))});function $n(e){var t=Object(d.i)().url,a=Object(d.h)().pathname,n=Object(c.useState)(null),r=Object(p.a)(n,2),i=r[0],l=r[1];return Object(c.useEffect)((function(){var n="/firestore"===t||t.startsWith("/firestore")&&3===t.split("/").length,r=t===a,c=null===e||void 0===e?void 0:e[0];l(n&&r&&c?o.a.createElement(d.a,{to:"".concat(t,"/").concat(c.id)}):null)}),[a,t,e,l]),i}var Xn=[];var er,tr,ar=(er=function(e){var t=e.collection,a=e.collectionFilter,n=e.addDocument,r=e.docs,i=e.url,l=Object(c.useState)(!1),u=Object(p.a)(l,2),m=u[0],f=u[1],b=Object(c.useState)(!1),v=Object(p.a)(b,2),E=v[0],h=v[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"Firestore-Collection"},o.a.createElement(Yn,{id:t.id,icon:o.a.createElement(D.a,{icon:{icon:"collections_bookmark",size:"small"}})},o.a.createElement(jn.b,null,o.a.createElement(jn.a,{open:m,onClose:function(){return f(!1)}},m&&o.a.createElement(qn,{className:wn.a["query-panel"],path:t.path,onClose:function(){return f(!1)}})),o.a.createElement("div",{className:a&&wn.a.badge},o.a.createElement(G.a,{icon:"filter_list",label:"Filter documents in this collection",onClick:function(){return f(!m)}})))),E&&o.a.createElement(Zn,{collectionRef:t,open:E,onValue:n,onClose:function(){return h(!1)}}),o.a.createElement(ln.a,{dense:!0,className:"List-Actions",tag:"div"},o.a.createElement(on.d,Object.assign({className:"list-button",tag:Be.a,label:"Add document"},{dense:!0,icon:"add"},{onClick:function(){return h(!0)}}))),o.a.createElement(ln.a,{dense:!0,className:"Firestore-Document-List",tag:"div"},r.map((function(e){return o.a.createElement(on.d,{key:e.ref.id,className:"Firestore-List-Item",tag:s.c,to:"".concat(i,"/").concat(e.ref.id),activeClassName:"mdc-list-item--activated"},e.ref.id)})))),o.a.createElement(d.b,{path:"".concat(i,"/:id"),render:function(e){var a=e.match,n=t.doc(a.params.id);return o.a.createElement(Nr,{reference:n})}}))},function(e){var t=e.collection,a=Object(c.useState)(),n=Object(p.a)(a,2),r=n[0],i=n[1],l=_n(t.path),u=function(e,t){var a=e;return t&&ht(t)&&(a=a.where(t.field,t.operator,t.value)),t&&gt(t)&&(a=a.where(t.field,t.operator,t.values)),t&&Ot(t)&&(a=a.orderBy(t.field,t.sort)),a}(t,l),s=Object(Cn.a)(u),m=Object(p.a)(s,3),f=m[0],b=m[1],v=m[2],h=Object(d.i)().url,g=f?f.docs:Xn,O=$n(g),y=function(){var e=Object(Z.a)(E.a.mark((function e(a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.id){e.next=4;break}return e.next=3,t.doc(a.id).set(a.data);case 3:i(a.id);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return v?o.a.createElement(o.a.Fragment,null):!b&&O?o.a.createElement(o.a.Fragment,null,O):r?o.a.createElement(d.a,{to:"".concat(h,"/").concat(r)}):o.a.createElement(er,{collection:t,collectionFilter:l,addDocument:y,docs:g,url:h})}),nr=function(e){var t=e.documentRef,a=e.onChange,n=Object(c.useState)(""),r=Object(p.a)(n,2),i=r[0],l=r[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(Le,{label:"Parent path",value:t?t.path:"/",disabled:!0}),o.a.createElement(Le,{label:"Collection ID",required:!0,value:i,onChange:function(e){l(e.target.value),a(e.target.value)}}))};!function(e){e[e.COLLECTION=0]="COLLECTION",e[e.DOCUMENT=1]="DOCUMENT"}(tr||(tr={}));var rr=function(e){var t=e.documentRef,a=e.api,n=e.onValue,r=e.onClose,i=Object(F.a)(e,["documentRef","api","onValue","onClose"]),l=Object(c.useState)(tr.COLLECTION),u=Object(p.a)(l,2),s=u[0],d=u[1],m=Object(c.useState)(""),f=Object(p.a)(m,2),b=f[0],v=f[1],E=Object(c.useState)({id:"",data:void 0}),h=Object(p.a)(E,2),g=h[0],O=h[1];return o.a.createElement(je.a,Object.assign({},i,{onClose:function(e){n("accept"===e.detail.action?{collectionId:b,document:g}:null),r&&r(e)}}),o.a.createElement(je.e,null,"Start a collection"),o.a.createElement(je.d,null,s===tr.COLLECTION?o.a.createElement(nr,{documentRef:t,onChange:v}):o.a.createElement(Qn,{collectionRef:t?t.collection(b):a.database.collection(b),onChange:O})),o.a.createElement(je.b,null,o.a.createElement(je.c,{action:"close",type:"button",theme:"secondary"},"Cancel"),s===tr.DOCUMENT?o.a.createElement(je.c,{unelevated:!0,action:"accept",isDefaultAction:!0,disabled:!g.data},"Save"):o.a.createElement(je.c,{unelevated:!0,onClick:function(){return s===tr.COLLECTION&&b&&d(s+1)}},"Next")))};var cr=function(e){var t=e.reference,a=Object(d.i)().url,n=Et(),r=Object(d.g)(),i=function(e,t){var a=Object(c.useState)(null),n=Object(p.a)(a,2),r=n[0],o=n[1];return Object(c.useEffect)((function(){function a(){return(a=Object(Z.a)(E.a.mark((function a(){var n;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.getCollections(t);case 2:n=a.sent,o(n);case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}),[e,t]),r}(n,t),l=Object(c.useState)(i),u=Object(p.a)(l,2),m=u[0],f=u[1],b=$n(m);Object(c.useEffect)((function(){f(i)}),[i]);var v=Object(c.useState)(!1),h=Object(p.a)(v,2),g=h[0],O=h[1],y=function(){var e=Object(Z.a)(E.a.mark((function e(a){var c,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a&&a.collectionId&&a.document.id)){e.next=7;break}return c=t||n.database,o=c.collection(a.collectionId),e.next=5,o.doc(a.document.id).set(a.document.data);case 5:f([].concat(Object(ra.a)(m),[o])),t?r.push("/firestore/".concat(t.path,"/").concat(a.collectionId)):r.push("/firestore/".concat(a.collectionId));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement("div",{className:"Firestore-CollectionList","data-testid":"collection-list"},b,g&&o.a.createElement(rr,{documentRef:t,api:n,open:g,onValue:y,onClose:function(){return O(!1)}}),o.a.createElement(ln.a,{dense:!0,className:"List-Actions",tag:"div"},o.a.createElement(on.d,Object.assign({className:"list-button",tag:Be.a},{dense:!0,icon:"add"},{label:"Start collection",onClick:function(){return O(!0)}}))),o.a.createElement(ln.a,{dense:!0,tag:"div"},m&&m.map((function(e){return o.a.createElement(on.d,{key:e.id,className:"Firestore-List-Item",tag:s.c,to:"".concat(a,"/").concat(e.id),activeClassName:"mdc-list-item--activated"},e.id)}))))},or=function(e){return On({title:"Delete document",body:o.a.createElement("div",{className:"Firestore--dialog-body"},o.a.createElement(Ie,{aside:!0,type:"warning"},"This will permanently delete the document."),o.a.createElement(Le,{label:"Document location",value:e.path||"/",disabled:!0})),acceptLabel:null,cancelLabel:null,footer:o.a.createElement(o.a.Fragment,null,o.a.createElement(je.c,{action:"close",type:"button",theme:"secondary"},"Cancel"),o.a.createElement(je.c,{unelevated:!0,action:"accept",isDefaultAction:!0,danger:!0},"Delete"))})},ir=function(e){return On({title:"Delete data",body:o.a.createElement("div",{className:"Firestore--dialog-body"},o.a.createElement(Ie,{aside:!0,type:"warning"},"This will delete all fields of the document, excluding subcollections."),o.a.createElement(Le,{label:"Document location",value:e.path||"/",fullwidth:!0,disabled:!0})),acceptLabel:null,cancelLabel:null,footer:o.a.createElement(o.a.Fragment,null,o.a.createElement(je.c,{action:"close",type:"button",theme:"secondary"},"Cancel"),o.a.createElement(je.c,{unelevated:!0,action:"accept",isDefaultAction:!0,danger:!0},"Delete"))})},lr=a(116),ur=yt.firestore.FieldValue.delete();function sr(e,t,a,n){var r=fr(t,a,n);e.update.apply(e,Object(ra.a)(r))}function dr(e,t,a){return mr.apply(this,arguments)}function mr(){return(mr=Object(Z.a)(E.a.mark((function e(t,a,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get();case 2:if(!e.sent.exists){e.next=5;break}throw new Error(".set() on an existing document would delete other fields");case 5:return e.next=7,t.set(Object(Ce.a)({},a,n));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fr(e,t,a){var n=e,r=[],c=!0,o=!1,i=void 0;try{for(var l,u=t[Symbol.iterator]();!(c=(l=u.next()).done);c=!0){var s=l.value;if(void 0===n||!At(n))throw new Error("Tried to set field ".concat(s," on non-map value."));if(n=n[s],r.push(s),r.length<t.length&&Ft(n)){var d,m,f=Object(lr.a)(yt.firestore.FieldPath,r),b=t.slice(r.length);return a===ur||(null===(d=a)||void 0===d||null===(m=d.isEqual)||void 0===m?void 0:m.call(d,ur))?[f,_t(n,b)]:[f,It(n,b,a)]}}}catch(p){o=!0,i=p}finally{try{c||null==u.return||u.return()}finally{if(o)throw i}}return[Object(lr.a)(yt.firestore.FieldPath,Object(ra.a)(t)),a]}a(348);var br=o.a.createContext({}),pr=function(e){var t=e.value,a=e.children;return o.a.createElement(br.Provider,{value:t},a)};function vr(){var e=o.a.useContext(br);if(void 0===e)throw new Error("useDocumentState must be used within a DocumentProvider");return e}function Er(e){var t=vr();return 0===e.length?t:Nt()(t,e)}function hr(e,t){switch(xt(e)){case dt.ARRAY:return function(e,t){var a="[",n=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var l=o.value;if(a.length>1&&(a+=", "),a.length>t){a+="...";break}a+=hr(l,t-a.length)}}catch(u){r=!0,c=u}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return a+="]"}(e,t);case dt.MAP:return function(e,t){for(var a="{",n=0,r=Object.entries(e);n<r.length;n++){var c=Object(p.a)(r[n],2),o=c[0],i=c[1];if(a.length>1&&(a+=", "),a.length>t){a+="...";break}a+="".concat(o,": ").concat(hr(i,t-a.length))}return a+="}"}(e,t);case dt.BLOB:var a=e.toBase64();return a.length<t?a:a.substr(0,t)+"...";case dt.BOOLEAN:return e.toString();case dt.GEOPOINT:var n=e;return"[".concat((c=n.latitude,"".concat(Math.abs(c),"\xb0 ").concat(c>=0?"N":"S")),", ").concat((r=n.longitude,"".concat(Math.abs(r),"\xb0 ").concat(r>=0?"E":"W")),"]");case dt.NULL:return"null";case dt.NUMBER:return e.toString();case dt.REFERENCE:return e.path;case dt.STRING:return'"'.concat(e,'"');case dt.TIMESTAMP:return e.toDate().toString();case dt.JSON:throw new Error("JSON field type is input only")}var r,c}var gr,Or=function e(t){var a,n=t.path,i=t.documentRef,l=t.maxSummaryLen,u=vr(),s=Er(n.slice(0,-1)),d=Er(n),m=Object(c.useState)(!1),f=Object(p.a)(m,2),b=f[0],v=f[1],E=Object(c.useState)(!0),h=Object(p.a)(E,2),g=h[0],O=h[1],y=Object(c.useState)(!1),j=Object(p.a)(y,2),C=j[0],N=j[1],w=null;return At(d)?w=Object.keys(d).map((function(t){var a=[].concat(Object(ra.a)(n),[t]);return o.a.createElement(e,{key:t,path:a,documentRef:i,maxSummaryLen:l})})):Ft(d)&&(w=d.map((function(t,a){var r=[].concat(Object(ra.a)(n),["".concat(a)]);return o.a.createElement(e,{key:a,path:r,documentRef:i,maxSummaryLen:l})}))),b?o.a.createElement(o.a.Fragment,null,Ft(s)&&o.a.createElement(Ta,{value:[d],onCancel:function(){v(!1)},onSave:function(e,t){sr(i,u,n,t),v(!1)},areRootKeysMutable:!1}),At(s)&&o.a.createElement(Ta,{value:Object(Ce.a)({},St(n),d),onCancel:function(){v(!1)},onSave:function(e,t){sr(i,u,[].concat(Object(ra.a)(kt(n)),[e]),t),v(!1)},areRootKeysMutable:!1})):o.a.createElement(o.a.Fragment,null,o.a.createElement(on.d,{onClick:function(){return O(!g)},className:J()("FieldPreview",{"FieldPreview--primitive":Dt(d),"FieldPreview--expanded":!Dt(d)&&g})},o.a.createElement(D.a,{className:"FieldPreview-expand-icon",icon:{size:"xsmall",icon:g?"arrow_drop_down":"arrow_right"}}),o.a.createElement(r.a,{use:"secondary",tag:"span",className:"FieldPreview-key"},St(n)),o.a.createElement("span",{className:"FieldPreview-summary"},hr(d,l)),o.a.createElement(on.f,{className:"FieldPreview-actions"},o.a.createElement("span",{className:"FieldPreview-type"},"(",xt(d),")"),Dt(d)&&(a=d,Na.has(xt(a)))&&o.a.createElement(G.a,{icon:"edit",label:"Edit field",onClick:function(e){e.stopPropagation(),v(!0)}})," ",(Ft(d)||At(d))&&o.a.createElement(G.a,{icon:"add",label:"Add field",onClick:function(e){e.stopPropagation(),N(!0)}}),o.a.createElement(G.a,{icon:"delete",label:"Remove field",onClick:function(e){e.stopPropagation(),function(e,t,a){var n=fr(t,a,ur);e.update.apply(e,Object(ra.a)(n))}(i,u,n)}}))),C&&Ft(d)&&o.a.createElement(Ta,{value:[""],onCancel:function(){N(!1)},startingIndex:d.length,onSave:function(e,t){var a=[].concat(Object(ra.a)(n),["".concat(d.length)]);sr(i,u,a,t),N(!1)},areRootKeysMutable:!Ft(d)}),C&&At(d)&&o.a.createElement(Ta,{value:{"":""},onCancel:function(){N(!1)},onSave:function(e,t){var a=[].concat(Object(ra.a)(n),[e]);sr(i,u,a,t),N(!1)},areRootKeysMutable:!Ft(d)}),!Dt(d)&&g&&o.a.createElement("div",{className:"FieldPreview-children"},w))},yr=function(e){var t=e.reference,a=e.maxSummaryLen,n=void 0===a?20:a,r=Object(Cn.b)(t),i=Object(p.a)(r,3),l=i[0],u=i[1],s=i[2],d=Object(c.useState)(!1),m=Object(p.a)(d,2),f=m[0],b=m[1];return u?o.a.createElement("div",null,"Loading document..."):s?o.a.createElement("div",null,"Error retrieving document"):o.a.createElement(o.a.Fragment,null,o.a.createElement(pr,{value:l||{}},o.a.createElement(ln.a,{dense:!0,className:"List-Actions Firestore-Document-Fields",tag:"div"},o.a.createElement(on.d,Object.assign({className:"list-button",tag:Be.a,label:"Add field"},{dense:!0,icon:"add"},{onClick:function(){return b(!0)}})),f&&o.a.createElement(Ta,{value:{"":""},onCancel:function(){b(!1)},onSave:function(){var e=Object(Z.a)(E.a.mark((function e(a,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=5;break}return e.next=3,dr(t,a,n);case 3:e.next=6;break;case 5:sr(t,l,[a],n);case 6:b(!1);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),areRootKeysMutable:!0}),l&&At(l)?o.a.createElement("div",{className:"Firestore-Field-List"},Object.keys(l).map((function(e){return o.a.createElement(Or,{key:e,path:[e],documentRef:t,maxSummaryLen:n})}))):o.a.createElement(A.a,{theme:"secondary",use:"body2",className:"Firestore-Document-Warning"},o.a.createElement("i",null,"This document does not exist, it will not appear in queries or snapshots")))))},jr=function(e){var t=e.collectionById,a=e.children,n=Object(d.i)().url;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"Firestore-Document"},a),o.a.createElement(d.b,{path:"".concat(n,"/:id"),render:function(e){var a=e.match;return o.a.createElement(ar,{collection:t(a.params.id)})}}))},Cr=function(){var e=Et();return o.a.createElement(jr,{id:"Root",collectionById:function(t){return e.database.collection(t)}},o.a.createElement(Yn,{id:"Root",icon:o.a.createElement(I,null)}),o.a.createElement(cr,null))},Nr=function(e){var t=e.reference,a=function(){var e=Object(Z.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,or(t);case 2:e.sent&&t.delete();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(Z.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ir(t);case 2:e.sent&&t.set({});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(jr,{id:t.id,collectionById:function(e){return t.collection(e)}},o.a.createElement(Yn,{id:t.id,icon:o.a.createElement(D.a,{icon:{icon:"insert_drive_file",size:"small"}})},o.a.createElement(K.b,{handle:o.a.createElement(G.a,{icon:"more_vert"}),renderToPortal:!0},o.a.createElement(K.a,{onClick:a},"Delete document"),o.a.createElement(K.a,{onClick:n},"Delete all fields"))),o.a.createElement(cr,{reference:t}),o.a.createElement(on.a,{tag:"div"}),o.a.createElement(yr,{reference:t}))},wr=S({projectIdResult:x.d,configResult:x.c}),kr=Object(u.b)(wr)((function(e){var t=e.projectIdResult,a=e.configResult;return Object(R.b)(Object(R.a)(t,a),{onNone:function(){return o.a.createElement(W,{span:12,message:"Firestore Emulator Loading..."})},onError:function(){return o.a.createElement(xr,null)},onData:function(e){var t=Object(p.a)(e,2),a=t[0],n=t[1];return void 0===n?o.a.createElement(xr,null):o.a.createElement(Sr,{projectId:a,config:n})}})})),Sr=function(e){var t=e.config,a=e.projectId,n=Object(c.useState)(void 0),r=Object(p.a)(n,2),i=r[0],l=r[1],u=Object(d.h)(),s=Object(d.g)(),m=Object(c.useState)(!1),f=Object(p.a)(m,2),v=f[0],h=f[1],g=u.pathname.replace(/^\/firestore/,""),O=g.split("/").length<2,y=g.split("/").length<3;if(Object(c.useEffect)((function(){var e=new En(a,"(default)",t);return l(e),function(){e.delete()}}),[a,t,l]),!i)return null;function j(){return(j=Object(Z.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yn();case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return h(!0),e.next=8,t.nukeDocuments();case 8:C(),h(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){void 0===e?s.push("/firestore"):s.push("".concat("/firestore","/").concat(e))}return v?o.a.createElement(W,{span:12,"data-testid":"firestore-loading"}):o.a.createElement(Dn,null,o.a.createElement(vt,{value:i},o.a.createElement(b.b,{span:12,className:"Firestore"},o.a.createElement("div",{className:"Firestore-actions"},o.a.createElement(Fe,{use:"warning",wrap:!0},o.a.createElement(Be.a,{unelevated:!0,onClick:function(){return function(e){return j.apply(this,arguments)}(i)}},"Clear all data"))),o.a.createElement(te.a,{z:"2",wrap:!0},o.a.createElement(T.a,{className:"Firestore-panels-wrapper"},o.a.createElement(le,{base:"/firestore",path:g,onNavigate:C}),o.a.createElement("div",{className:"Firestore-panels"},o.a.createElement(Cr,null),O&&o.a.createElement("div",{className:"Firestore-Collection","data-testid":"collection-shell"},o.a.createElement(Yn,{id:"",icon:null})),y&&o.a.createElement("div",{className:"Firestore-Document","data-testid":"document-shell"},o.a.createElement(Yn,{id:"",icon:null}))))))))},xr=function(){return o.a.createElement(z,{productName:"Firestore"})},Rr=(a(349),a(176)),Tr=function(e){var t=e.projectId,a=Object(Rr.useLocalStorage)("isLocalWarningCalloutDismissed");return Object(p.a)(a,1)[0]?null:o.a.createElement(b.b,{span:12},o.a.createElement(Ie,{type:"note",actions:o.a.createElement(o.a.Fragment,null,o.a.createElement(Be.a,{tag:"a",href:"".concat("https://console.firebase.google.com","/project/").concat(t,"/overview"),target:"_blank",label:"View project"}),o.a.createElement(Be.a,{label:"Dismiss",onClick:function(){return Object(Rr.writeStorage)("isLocalWarningCalloutDismissed",!0)}}))},"Remember this is a local environment. Visit the production version of"," ",o.a.createElement("strong",null,t)," in the console."))},Ar=a(177),Fr=a.n(Ar),Dr={icon:"check_circle",size:"xsmall"},Ir={icon:"block",size:"xsmall"},_r=function(e){var t=e.isActive;return o.a.createElement(Fe,{use:t?"success":"note",wrap:!0},o.a.createElement(A.a,{use:"headline6",tag:"div",theme:t?"primary":"secondary",className:Fr.a.container},t?"On":"Off",o.a.createElement(D.a,{icon:t?Dr:Ir,className:Fr.a.icon})))},Mr=S({configRemote:x.a}),Lr=Object(u.b)(Mr)((function(e){var t=e.configRemote;return Object(R.g)(t,{onNone:function(){return o.a.createElement(W,{span:12,message:"Overview Page Loading..."})},onData:function(e){return o.a.createElement(Pr,{config:e})},onError:function(){return o.a.createElement(Pr,{config:{}})}})})),Pr=function(e){var t=e.config;return o.a.createElement(b.b,{span:12},o.a.createElement(b.c,null,t.projectId&&o.a.createElement(Tr,{projectId:t.projectId}),o.a.createElement(b.b,{span:12},o.a.createElement(A.a,{use:"headline5"},"Emulator overview")),o.a.createElement(Br,{name:"Firestore emulator",icon:o.a.createElement(I,{theme:"secondary"}),config:t.firestore,linkTo:"/firestore",testId:"emulator-info-firestore"}),o.a.createElement(Br,{name:"Realtime Database emulator",icon:o.a.createElement(_,{theme:"secondary"}),config:t.database,linkTo:"/database",testId:"emulator-info-database"}),o.a.createElement(Br,{name:"Functions emulator",icon:o.a.createElement(M,{theme:"secondary"}),config:t.functions,linkTo:"/functions",linkLabel:"View logs",testId:"emulator-info-functions"}),o.a.createElement(Br,{name:"Hosting emulator",icon:o.a.createElement(L,{theme:"secondary"}),config:t.hosting,testId:"emulator-info-hosting",linkToExternal:t.hosting&&"http://".concat(t.hosting.hostAndPort,"/"),linkLabel:"View website"}),o.a.createElement(Br,{name:"PubSub emulator",icon:o.a.createElement(P,{theme:"secondary"}),config:t.pubsub,testId:"emulator-info-pubsub"})))},Br=function(e){var t=e.name,a=e.icon,n=e.config,r=e.linkTo,c=e.linkLabel,i=e.linkToExternal,l=e.testId;return o.a.createElement(b.b,{span:4},o.a.createElement(T.a,{className:"Home-EmulatorCard","data-testid":l},o.a.createElement("div",{className:"Home-EmulatorCard-Info"},o.a.createElement(A.a,{use:"headline6",tag:"h3",className:"title"},a," ",o.a.createElement("span",null,t)),o.a.createElement(A.a,{use:"body2",tag:"h4",theme:"secondary"},"Status"),o.a.createElement(_r,{isActive:!!n}),o.a.createElement(A.a,{use:"body2",tag:"h4",theme:"secondary"},"Port number"),o.a.createElement(A.a,{use:"headline6",tag:"div"},n?n.port:"N/A")),(i||r)&&o.a.createElement(on.a,{tag:"div"}),o.a.createElement(T.e,null,o.a.createElement(T.d,null,i&&o.a.createElement(T.b,{tag:"a",href:i,target:"_blank"},c),r&&o.a.createElement(T.b,{tag:s.b,to:r},c||"Go to emulator")))))},Vr=(a(366),function(){function e(){Object(ue.a)(this,e),this.getters={}}return Object(se.a)(e,[{key:"getOrCompile",value:function(e,t){if(!this.getters[e])try{this.getters[e]=new Function("obj","return obj."+e+";")}catch(a){return void console.warn(a)}try{return this.getters[e](t)}catch(a){return}}}]),e}()),Ur=(a(367),a(151));a(368);!function(e){e[e.NONE=0]="NONE",e[e.DOT=1]="DOT",e[e.BRACKET=2]="BRACKET",e[e.INCREMENT=3]="INCREMENT"}(gr||(gr={}));var zr=function(e){return e.match(/^[A-Z|_]+$/i)?{mode:gr.DOT,key:e}:{mode:gr.BRACKET,key:e}},qr=function(e){return e.map((function(e){switch(e.mode){case gr.NONE:return e.key;case gr.BRACKET:return'["'.concat(e.key,'"]');case gr.DOT:return".".concat(e.key);case gr.INCREMENT:return"[".concat(JSON.stringify(e.key),"]")}return""})).join("")},Hr=function(e){var t=e.data,a=e.appendToQuery,n=e.compiledGetters,r=JSON.stringify(t,null,2).split("\n");if(1===r.length)return o.a.createElement("div",{className:"log-message-single"},t);var c=!1,i=[{mode:gr.NONE,key:"user"}],l=function(e,t){return n.getOrCompile(t,{user:e})},u=r.map((function(e,n){var u=e.split('"').length-1,s=0===n&&e.startsWith("{"),d=n===r.length-1&&e.endsWith("}"),m=1===e.trim().length&&e.endsWith("["),f=1===e.trim().length&&e.endsWith("{"),b=u>=2&&e.endsWith("{"),p=!e.endsWith("[")&&!e.endsWith("{")&&!e.endsWith("}")&&!e.endsWith("},"),v=e.endsWith("}")||e.endsWith("},"),E=u>=2&&e.endsWith("["),h=e.endsWith("]")||e.endsWith("],");if(s)return c=!0,o.a.createElement("div",{key:n,className:"line start"},e);if(d)return o.a.createElement("div",{key:n,className:"line end"},e);if(f||m||p){var g=i[i.length-1];g.mode===gr.INCREMENT&&(g.key+=1)}if(f&&i.push({mode:gr.NONE,key:""}),m&&(i.push({mode:gr.NONE,key:""}),i.push({mode:gr.INCREMENT,key:-1})),b||E){var O=e.split(":"),y=Object(Ur.a)(O),j=y[0],C=y.slice(1),N=j.split('"'),w=Object(Ur.a)(N),k=w[0],S=w.slice(1).filter((function(e){return e})).join('"'),x=C.join(":");i.push(zr(S));var R=qr(i);return E&&i.push({mode:gr.INCREMENT,key:-1}),o.a.createElement("div",{key:n,className:"line object-start"},k,o.a.createElement("div",{className:"clickable key",onClick:function(){return a(R,"*")}},'"',S,'"'),":",x)}if(v)return i[i.length-1].mode!==gr.INCREMENT&&i.pop(),o.a.createElement("div",{key:n,className:"line object-end"},e);if(h)return i.pop(),i.pop(),o.a.createElement("div",{key:n,className:"line array-end"},e);if(p){if(!c)return o.a.createElement("div",{key:n,className:"line literal"},o.a.createElement("div",{className:"value clickable"},e));var T=e.split(":"),A=Object(Ur.a)(T),F=A[0],D=A.slice(1),I=F.split('"').slice(1).filter((function(e){return e})).join('"'),_=D.join(":").trim(),M=new Array(e.length-e.trim().length+1).join(" ");if(I&&_){var L=qr([].concat(i,[zr(I)]));return o.a.createElement("div",{key:n,className:"line literal"},M,o.a.createElement("div",{className:"key clickable",onClick:function(){return a(L,"*")}},'"',I,'"'),":"," ",o.a.createElement("div",{className:"clickable value",onClick:function(){return a(L,l(t,L))}},_))}var P=qr(i);return o.a.createElement("div",{key:n,className:"line literal"},M,o.a.createElement("div",{className:"clickable value",onClick:function(){return a(P,l(t,P))}},e.trim()))}return o.a.createElement("div",{key:n,className:"line generic"},e)}));return o.a.createElement("div",{className:"HighlightedJSON"},u)},Jr=(a(369),["level","search","metadata.emulator","metadata.emulator.name","metadata.function","metadata.function.name"]);function Wr(e){var t="",a=!1,n=!0,r=!1,c=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var u=i.value;a?(t+="\u02cd",a=!1):(t+=u,"\\"===u&&(a=!0))}}catch(E){r=!0,c=E}finally{try{n||null==l.return||l.return()}finally{if(r)throw c}}var s=t.split('"').map((function(e,t){return t%2?e.replace(/ /g,"\u02cd"):e})).join('"').split("\n").reduce((function(e,t){return[].concat(Object(ra.a)(e),Object(ra.a)(t.split(/((?:[^\s]+)\s?=\s?(?:[^\s]+))/)),["\n"])}),[]),d={},m=[],f=0,b=s.map((function(t,a){var n=e.slice(f,f+t.length);f+=t.length;var r=n.indexOf("=")>-1&&"="!==n[0]&&"="!==n.slice(-1)[0];if("\n"===n)return o.a.createElement("br",{key:a});if(!r)return m.push(n),o.a.createElement("span",{key:a,className:"text"},n);var c=n.split("=")[0].trim();if(r&&-1===Jr.indexOf(c)&&!c.startsWith("user.")&&!c.startsWith("user["))return o.a.createElement("span",{key:a},o.a.createElement("span",{className:"invalid_pair"},n));var i=n.split("="),l=Object(p.a)(i,2),u=l[0],s=l[1];try{d[u.trim()]=JSON.parse(s)}catch(E){d[u.trim()]=s}return o.a.createElement("span",{key:a},o.a.createElement("span",{className:"key"},u,"="),o.a.createElement("span",{className:"value"},s))})),v=[d.search,m.filter((function(e){return e})).join(" ").trim()].filter((function(e){return e})).join(" ");return v.length&&(d.search=v),{elements:b,filters:d}}var Gr,Kr=function(e){var t=e.query,a=e.setQuery,n=Object(c.useState)(""),r=Object(p.a)(n,2),i=r[0],l=r[1];Object(c.useEffect)((function(){l(t)}),[t]);var u=Wr(i);return o.a.createElement("div",{className:"QueryBar"},o.a.createElement("div",{className:"QueryBar-render"},u.elements),o.a.createElement("textarea",{rows:1,className:"QueryBar-input",spellCheck:!1,value:i,onChange:function(e){return l(e.target.value)},placeholder:"Filter or search logs..."}),o.a.createElement("div",{className:"QueryBar-actions"},o.a.createElement(Be.a,{unelevated:!0,onClick:function(){return a(i)},disabled:t===i},"Apply"),o.a.createElement(Be.a,{unelevated:!0,disabled:!i.length,onClick:function(){l(""),a("")}},"Reset")))},Qr=function(e){var t,a,n,r=e.appendToQuery,c=e.log.data.metadata;return(null===c||void 0===c||null===(t=c.function)||void 0===t?void 0:t.name)?n=o.a.createElement("div",{className:"log-tag-button",onClick:function(){var e;return r("metadata.function.name",null===(e=c.function)||void 0===e?void 0:e.name)}},"function[",c.function.name,"]"):(null===c||void 0===c||null===(a=c.emulator)||void 0===a?void 0:a.name)&&(n=o.a.createElement("div",{className:"log-tag-button",onClick:function(){var e;return r("metadata.emulator.name",null===(e=c.emulator)||void 0===e?void 0:e.name)}},c.emulator.name)),o.a.createElement("div",{className:"log-tag"},n)},Zr=Object(u.b)((function(e){return{log:e.log}}),{})((function(e){var t=e.parsedQuery,a=e.setQuery,n=e.log,i=e.compiledGetters,l=n.history.filter((function(e){return function(e,t,a){for(var n=0,r=Object.keys(e.filters);n<r.length;n++){var c=r[n];if("search"===c){if(-1===JSON.stringify(t).toLowerCase().indexOf(e.filters[c].toLowerCase()))return!1}else{var o=c;(o.startsWith("user.")||o.startsWith("metadata.")||o.startsWith("user[")||o.startsWith("metadata["))&&(o="data.".concat(o));var i=e.filters[c],l=a.getOrCompile(o,t);if(!l||void 0!==i&&"*"!==i&&i.toString()!==l.toString())return!1}}return!0}(t,e,i)})),u=Object(c.useRef)(null);Object(c.useEffect)((function(){u&&u.current&&u.current.scrollIntoView()}),[l]);var s=function(e,n){a(function(e){var t=[];for(var a in e)t.push("".concat(a,"=").concat(JSON.stringify(e[a])));return t.sort().join("\n")}(Object(He.a)({},t.filters,Object(Ce.a)({},e,n))))};return o.a.createElement(r.b,{options:{surface:"#F5F5F5"},className:"LogHistory"},l.length?l.slice(-100).map((function(e,t){return o.a.createElement("div",{id:"log_".concat(t),className:"log-entry",key:t},o.a.createElement("span",{className:"log-timestamp"},function(e){var t=new Date(e);return[t.getHours(),t.getMinutes(),t.getSeconds()].map((function(e){var t=e.toString();return 2===t.length?t:"0".concat(t)})).join(":")}(e.timestamp)),o.a.createElement("span",{className:"log-level ".concat(e.level),onClick:function(){return s("level",e.level)}},e.level[0].toUpperCase()),o.a.createElement(Qr,{appendToQuery:s,log:e}),function(e){var t,a;return(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.user)&&Object.keys(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.user).length}(e)?o.a.createElement(Hr,{data:e.data.user,appendToQuery:s,compiledGetters:i}):o.a.createElement("div",{className:"log-message-single"},e.message))})):o.a.createElement("div",{className:"LogHistoryEmpty"},"No logs are found which match your filters."),o.a.createElement("div",{ref:u}))}));!function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTED=1]="CONNECTED",e[e.PENDING=2]="PENDING"}(Gr||(Gr={}));var Yr=function(){function e(t){var a=this;Object(ue.a)(this,e),this.state=Gr.DISCONNECTED,this.listener=void 0,this.interval=void 0,this.ws=void 0,this.connect(t),this.interval=setInterval((function(){return a.connect(t)}),1e3)}return Object(se.a)(e,[{key:"connect",value:function(e){var t=this;if(this.state===Gr.DISCONNECTED){var a=new WebSocket("ws://".concat(e.hostAndPort));this.ws=a,this.state=Gr.PENDING,a.onopen=function(){t.state=Gr.CONNECTED},a.onclose=function(){t.state=Gr.DISCONNECTED},a.onmessage=function(e){var a=JSON.parse(e.data);t.listener&&t.listener(a)}}}},{key:"cleanup",value:function(){this.listener=void 0,this.interval&&clearInterval(this.interval),this.ws&&this.ws.close(),this.ws=void 0}}]),e}(),$r=new Vr;var Xr={logReceived:C.logReceived,logReset:C.logReset},ec=[{path:"/",component:Lr,label:"Overview",exact:!0,showInNav:!0},{path:"/firestore",component:kr,label:"Firestore",exact:!1,showInNav:!0},{path:"/database",component:bn,label:"Realtime Database",exact:!1,showInNav:!0},{path:"/logs",component:Object(u.b)((function(e){var t=e.config;return{config:Object(R.c)(t.result)?t.result.data.logging:void 0}}),Xr)((function(e){var t=e.logReceived,a=e.logReset,n=e.config,r=function(){var e=Object(d.h)().search;return Object(c.useMemo)((function(){return new URLSearchParams(e)}),[e])}(),i=Object(c.useState)(r.get("q")||""),l=Object(p.a)(i,2),u=l[0],s=l[1];Object(c.useEffect)((function(){if(n){a();var e=new Yr(n);return e.listener=function(e){t(e)},function(){return e.cleanup()}}}),[n,t,a]);var m=Wr(u);return o.a.createElement(b.b,{span:12},o.a.createElement(te.a,{z:2,wrap:!0},o.a.createElement(T.a,{className:"LogViewer"},o.a.createElement(Kr,{query:u,setQuery:s,compiledGetters:$r}),o.a.createElement(Zr,{parsedQuery:m,setQuery:s,compiledGetters:$r}))))})),label:"Logs",exact:!0,showInNav:!0}],tc=(a(370),a(410)),ac=a(409),nc=a(226),rc=function(){return o.a.createElement(D.a,{className:"Logo",icon:{strategy:"component",icon:o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 192",style:{width:"24px",height:"24px"}},o.a.createElement("defs",null,o.a.createElement("clipPath",{id:"a"},o.a.createElement("path",{d:"M143.41 47.34a4 4 0 0 0-6.77-2.16L115.88 66 99.54 34.89a4 4 0 0 0-7.08 0l-8.93 17-22.4-41.77a4 4 0 0 0-7.48 1.28L32 150l57.9 32.46a12 12 0 0 0 11.7 0L160 150z"})),o.a.createElement("linearGradient",{id:"d",x1:"-108.63",y1:"-692.24",x2:"-58.56",y2:"-742.31",gradientTransform:"matrix(2.67 0 0 -2.67 317.23 -1808)",gradientUnits:"userSpaceOnUse"},o.a.createElement("stop",{offset:"0",stopColor:"#fff",stopOpacity:".1"}),o.a.createElement("stop",{offset:"1",stopColor:"#fff",stopOpacity:"0"})),o.a.createElement("linearGradient",{id:"b",x1:"56.9",y1:"102.54",x2:"48.9",y2:"98.36",gradientUnits:"userSpaceOnUse"},o.a.createElement("stop",{offset:"0",stopColor:"#a52714"}),o.a.createElement("stop",{offset:".4",stopColor:"#a52714",stopOpacity:".5"}),o.a.createElement("stop",{offset:".8",stopColor:"#a52714",stopOpacity:"0"})),o.a.createElement("linearGradient",{id:"c",x1:"90.89",y1:"90.91",x2:"87.31",y2:"87.33",gradientUnits:"userSpaceOnUse"},o.a.createElement("stop",{offset:"0",stopColor:"#a52714",stopOpacity:".8"}),o.a.createElement("stop",{offset:".5",stopColor:"#a52714",stopOpacity:".21"}),o.a.createElement("stop",{offset:"1",stopColor:"#a52714",stopOpacity:"0"}))),o.a.createElement("g",{clipPath:"url(#a)"},o.a.createElement("path",{d:"M32 150L53.66 11.39a4 4 0 0 1 7.48-1.27l22.4 41.78 8.93-17a4 4 0 0 1 7.08 0L160 150z",fill:"#ffa000"}),o.a.createElement("path",{opacity:".12",fill:"url(#b)",d:"M106 9L0 0v192l32-42L106 9z"}),o.a.createElement("path",{d:"M106.83 96.01l-23.3-44.12L32 150l74.83-53.99z",fill:"#f57c00"}),o.a.createElement("path",{opacity:".2",fill:"url(#c)",d:"M0 0h192v192H0z"}),o.a.createElement("path",{d:"M160 150L143.41 47.34a4 4 0 0 0-6.77-2.16L32 150l57.9 32.47a12 12 0 0 0 11.7 0z",fill:"#ffca28"}),o.a.createElement("path",{d:"M143.41 47.34a4 4 0 0 0-6.77-2.16L115.88 66 99.54 34.89a4 4 0 0 0-7.08 0l-8.93 17-22.4-41.77a4 4 0 0 0-7.48 1.28L32 150h-.08l.07.08.57.28L115.83 67l20.78-20.8a4 4 0 0 1 6.78 2.16l16.45 101.74.16-.1zM32.19 149.81L53.66 12.39a4 4 0 0 1 7.48-1.28l22.4 41.78 8.93-17a4 4 0 0 1 7.08 0l16 30.43z",fill:"#fff",fillOpacity:".2"}),o.a.createElement("path",{d:"M101.6 181.49a12 12 0 0 1-11.7 0l-57.76-32.4-.14.91 57.9 32.46a12 12 0 0 0 11.7 0L160 150l-.15-.92z",fill:"#a52714",opacity:".2"}),o.a.createElement("path",{d:"M143.41 47.34a4 4 0 0 0-6.77-2.16L115.88 66 99.54 34.89a4 4 0 0 0-7.08 0l-8.93 17-22.4-41.77a4 4 0 0 0-7.48 1.28L32 150l57.9 32.46a12 12 0 0 0 11.7 0L160 150z",fill:"url(#d)"})))}})},cc=function(e){var t=e.routes,a=Object(d.h)(),n=t.filter((function(e){return e.showInNav})),c=n.map((function(e){var t=e.path,a=e.label;return o.a.createElement(tc.a,Object.assign({key:a,className:"mdc-tab--min-width"},{tag:s.b,to:t}),a)})),i=n.findIndex((function(e){return Object(d.f)(a.pathname,{path:e.path,exact:e.exact})}));return o.a.createElement(r.b,{options:{primary:"#D7AEFB",surface:"#0c2d48",onSurface:"#FFF"},wrap:!0},o.a.createElement(nc.a,{fixed:!0,className:"AppBar",theme:"surface"},o.a.createElement("div",{className:"AppBar-title-row"},o.a.createElement("div",{className:"AppBar-logo-lockup"},o.a.createElement(rc,null),o.a.createElement(A.a,{use:"headline5",className:"AppBar-title",tag:"h1"},"Firebase Emulator Suite"))),o.a.createElement(ac.a,{theme:"onSurface",activeTabIndex:i},c)))},oc=S({configRemote:x.a}),ic=Object(u.b)(oc)((function(e){var t=e.configRemote;return Object(R.d)(t.result)?o.a.createElement(je.a,{open:!0,preventOutsideDismiss:!0},o.a.createElement(je.e,null,"Emulator Suite Disconnected"),o.a.createElement(je.d,null,"All emulators for this project have stopped running. To restart all emulators, at the command line, run"," ",o.a.createElement("code",null,"firebase emulators:start"),".")):null})),lc=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{dialogs:gn}),o.a.createElement(m.a,null),o.a.createElement(ic,null),o.a.createElement(r.a,{use:"background",wrap:!0},o.a.createElement("div",{className:"App"},o.a.createElement(cc,{routes:ec}),o.a.createElement(b.a,{className:"App-main"},o.a.createElement(d.d,null,ec.map((function(e){return o.a.createElement(d.b,{key:e.path,path:e.path,component:e.component,exact:e.exact})})),o.a.createElement(d.a,{from:"/functions",to:"/logs?q=metadata.emulator.name%3D%22functions%22"}),o.a.createElement(d.a,{to:"/"})," ")))))},uc=a(229);var sc=function(){var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||h.d,t=Object(uc.a)(),a=Object(h.e)(k,e(Object(h.a)(t)));return t.run(w),a}(),dc=function(){return Object(c.useEffect)((function(){sc.dispatch(Object(y.subscribe)())}),[]),o.a.createElement(s.a,null,o.a.createElement(d.d,null,o.a.createElement(d.b,{component:lc})))};l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(n.a,{ripple:!1},o.a.createElement(r.b,{options:{background:"#F6F7F9",primary:"#681DA8",primaryRgb:"104, 29, 168",secondary:"rgba(0, 0, 0, .54)",error:"#d32f2f"}},o.a.createElement(u.a,{store:sc},o.a.createElement(dc,null))))),document.getElementById("root"))},39:function(e,t,a){e.exports={panel:"CollectionFilter_panel__3z15Z",header:"CollectionFilter_header__1-t0U",headerTitle:"CollectionFilter_headerTitle__ebNNW",preview:"CollectionFilter_preview__1TWpW",children:"CollectionFilter_children__l7ZC9",previewFilter:"CollectionFilter_previewFilter__eDMkO",conditionEntries:"CollectionFilter_conditionEntries__2CpLn",removeFilter:"CollectionFilter_removeFilter__1xNn1",hidden:"CollectionFilter_hidden__IoL4U",conditionEntry:"CollectionFilter_conditionEntry__xeuMd",conditionEntryType:"CollectionFilter_conditionEntryType__3jxWW",conditionEntryValue:"CollectionFilter_conditionEntryValue__3N83N",actions:"CollectionFilter_actions__1uD4j"}},51:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"e",(function(){return l}));var n=a(14),r=Object(n.createAction)("@database/DATABASES_FETCH_REQUEST")(),c=Object(n.createAction)("@database/DATABASES_FETCH_SUCCESS")(),o=Object(n.createAction)("@database/DATABASES_FETCH_ERROR")(),i=Object(n.createAction)("@database/DATABASES_SUBSCRIBE")(),l=Object(n.createAction)("@database/DATABASES_UNSUBSCRIBE")()},56:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return u}));var n=a(67),r=a(23),c=function(e){return e.config},o=function(e){return e.config.result},i=Object(n.a)(o,(function(e){return Object(r.e)(e,(function(e){return e.projectId}))})),l=Object(n.a)(o,(function(e){return Object(r.e)(e,(function(e){return e.database}))})),u=Object(n.a)(o,(function(e){return Object(r.e)(e,(function(e){return e.firestore}))}))},59:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return i}));var n=a(14),r=Object(n.createAction)("@config/FETCH_REQUEST")(),c=Object(n.createAction)("@config/FETCH_SUCCESS")(),o=Object(n.createAction)("@config/FETCH_ERROR")(),i=Object(n.createAction)("@config/SUBSCRIBE")()}},[[250,1,2]]]);
//# sourceMappingURL=main.05fbf96a.chunk.js.map